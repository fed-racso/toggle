function rhythm(a){return a*rem*baseline}function forceRedraw(a){"use strict";a.css("webkit-transform","scale3d(1,1,1)")}function winprops(){this.screen=window.innerWidth||document.documentElement.clientWidth,this.isMobile=!!(navigator.userAgent.match(/Mobi/)||this.screen<760||navigator.userAgent.match(/Android/i))}function sliderControl(a){$(".gc__slider-nav").find(".slick-track").find(".nav-image__item").each(function(){$(this).attr("data-slick-index")==a&&($(".gc__slider-nav .slick-track .nav-image__item").removeClass("item-slick-selectedz"),$(this).addClass("item-slick-selectedz"))}),slidezUpdate(a)}function mouseIsOverWorkaround(a){return $(a).parent().find(":hover").length}function toggleOffCanvasMenu(){var a=$(".body");a.hasClass("primary-menu-open")?(a.removeClass("primary-menu-open"),$(".nav--primary__mobile").find("ul").removeClass("is-open")):a.addClass("primary-menu-open")}function closeOffCanvasMenu(){$(".body").removeClass("primary-menu-open"),$(".nav--primary__mobile").find("ul").removeClass("is-open")}function closePrimaryNavDropdown(){$(".pnav__has-dropdown").removeClass("is-open")}function toggleLocalNav(){var a=$(".local-nav-label"),b=$(".nav--local").find(".nav");$(".nav--local").find(".nav__video-extras");b.toggleClass("is-open"),a.toggleClass("is-open"),b.slideToggle(400)}function showLocalNav(){var a=$(".local-nav-label"),b=$(".nav--local").find(".nav");$(".nav--local").find(".nav__video-extras");b.addClass("is-open"),a.addClass("is-open"),b.show()}function closeLocalNav(){var a=$(".local-nav-label"),b=$(".nav--local").find(".nav");b.removeClass("is-open"),a.removeClass("is-open"),b.hide()}function toggleQuickNav(){var a=$(".quicklinks-nav-label"),b=$(".nav--quicklinks").find(".nav");$(".nav--quicklinks").find(".nav__video-extras");b.toggleClass("is-open"),a.toggleClass("is-open"),b.slideToggle(400)}function closeModal(){var a=$(".modal-overlay"),b=$(".modal");a.removeClass("is-open"),b.removeClass("is-open")}function closeMegaMenu(){setTimeout(function(){var a=$(".mega-menu--primary-nav"),b=$(".nav--primary").find(".nav--primary__desktop").find(".nav"),c=a.find(".megamenu__item"),d=mouseIsOverWorkaround(b[0]);mouseIsOverWorkaround(a[0])||d||(a.removeClass("is-open"),setTimeout(function(){c.removeClass("is-open"),b.find("li").find("a").removeClass("is-active")},300))},1)}function isIE(a,b){var c,d="IE",e=document.createElement("B"),f=document.documentElement;return a&&(d+=" "+a,b&&(d=b+" "+d)),e.innerHTML="\x3c!--[if "+d+']><b id="iecctest"></b><![endif]--\x3e',f.appendChild(e),c=!!document.getElementById("iecctest"),f.removeChild(e),c}function getLocalNavTop(a){if(a.length)return a.offset().top}function setLocalNavTop(a){a.length&&(phoenixVars.localNavTop=getLocalNavTop(a))}function togglePrimaryNavItems(a){var b=$(".header .wrap").width(),c=$(".nav--primary"),d=c.find(".nav--primary__logo"),e=c.find(".user-actions"),f=c.find(".nav").children().last().width(),g=b-e.width()-d.width()-f-50,h=g;_.forEach(a,function(b,c){var d=a[c];h-=d.width,h>=0?(d.show=!0,d.$el.css("display","block")):(d.show=!1,d.$el.css("display","none"))})}function setMegaMenuHeight(a){imagesLoaded(a,function(){var b=a.siblings("a").outerHeight(),c=a.outerHeight(),d=b+c-20;a.closest("ul").css("height",d)})}function insertMegaMenuItems(a){var b=a.find(".l-4up"),c=b.attr("data-url")||null,d=b.attr("data-fetch-completed")||null;c&&!d&&$.ajax({beforeSend:function(a){b.attr("data-fetch-completed","fetching")},url:c}).done(function(a){b.append(a),setMegaMenuHeight(b),b.attr("data-fetch-completed","true")})}function setArrowAndDotPositions(a){console.log("test");var b=a.getCarouselImageHeight();console.log(b),imagesLoaded($(window),function(){var b=a.getCarouselImageHeight();console.log(b),a.find(".slick-prev, .slick-next").css("top",b/2),a.find(".slick-dots").css({bottom:0}),forceRedraw(a)})}function wrapItemsInCarousel(){for(var a=3,b=1;b<=a;b++)for(var c=$(".cg_pack--up"+b),d=0;d<c.length;d+=b)c.slice(d,d+b).wrapAll('<div class="carousel-item"/>')}function unwrapItems(){$(".carousel-item").contents().unwrap()}function episodeListMobile(){var a=$(".fixed-height--episode"),b=a.find(".fixed-height__list"),c=b.children();c.hide();var d,e=c.filter(".now-playing");!0===a.attr("showMoreClicked")?c.show():e.length?(d=e.index(),c.slice(d,d+3).show(),a.find(".tg-load-more").show()):c.slice(0,3).show()}function updateSliders(a){var b=a.find(".megaslider, .megaslider__single, .megaslider__portrait, .megaslider__8, .megaslider__4, .megaslider__8--3up, .megaslider__8--4up-portrait");b.length&&(b.initNewSlider(),b.find("[data-dotdot]").truncateToHeight())}function videoListSliderSwap(){$(".list-slider-item--video").toggleClass("u-isInvisible"),$(".list-slider-target--video").toggle()}function notificationBarCloseOnClick(a,b){$(a).closest(".notification-holder").hide()}function toggleFilterMenu(){$(".filter-menu").toggleClass("is-open"),$(".filter-btn").toggleClass("is-open")}function offsetRight(a,b){var c=b[0].offsetWidth+b.offset().left;a.each(function(a){$(this).parent().hasClass("drop-left")&&$(this).parent().removeClass("drop-left"),this.offsetWidth+$(this).offset().left>c&&$(this).parent().addClass("drop-left")})}function ssoFormControl(){var a=document.querySelector("#form")||0;if(0!=a){window.addEventListener?a.addEventListener("blur",function(a){var b=a.target.className,c=!!a.target.children.length&&a.target.children[0].innerText;""!=a.target.value||""!=c?b.match(/notEmpty/gi)||(a.target.className+=" notEmpty"):b.match(/notEmpty/gi)&&(a.target.className=a.target.className.replace("notEmpty","").trim()),/^(?=.*\bvalidate)(?=.*\bon-blur).*$/.test(b)&&mc.utils.validateField(a.target,void 0,event)},!0):window.attachEvent&&window.attachEvent("onblur",function(a){var b=a.target.className,c=!!a.target.children.length&&a.target.children[0].innerText;""!=a.target.value||""!=c?b.match(/notEmpty/gi)||(a.target.className+=" notEmpty"):b.match(/notEmpty/gi)&&(a.target.className=a.target.className.replace("notEmpty","").trim()),/^(?=.*\bvalidate)(?=.*\bon-blur).*$/.test(b)&&mc.utils.validateField(a.target,void 0,event)});var b=document.getElementById("iSG");null!=b&&(b.onchange=function(){var b=a.identification_number,c=a.nationality;this.checked?(b.className=b.className.replace("passport","validateNRIC"),c.disabled=!0,c.options[1].selected="selected"):(b.className=b.className.replace("validateNRIC","passport"),c.disabled=!1)});var c=a.country;void 0!==c&&(c.onchange=function(){var a=document.getElementById("postal-btn");"195"!=c.value?(a.disabled=!0,this.form.block.disabled=!1,this.form.street.disabled=!1):(a.disabled=!1,this.form.block.disabled=!0,this.form.street.disabled=!0)}),void 0!=a.postalcode&&""!=a.postalcode.value&&(mc.utils.lastValidPostal=a.postalcode.value)}}function initPersonalization(){$.featherlight("<div>Loading...</div>",{variant:"personalization",closeIcon:"Skip",beforeOpen:function(){document.body.style.overflow="hidden"},closeOnClick:function(){skipPersonalization()},closeOnEsc:function(){skipPersonalization()},afterClose:function(){document.body.style.overflow=""}}),createPersonalizationContent("getUserPersonalizationSelection")}function createPersonalizationContent(a){var b="/en/blueprint/servlet/toggle/"+a;$.getJSON(b,{format:"json"}).done(function(a){objPersonalization[0].section=a.personalization.groups.sections[0],objPersonalization[1].section=a.personalization.groups.sections[1];var b=document.createElement("form");b.className="personalization-form";var c=document.createElement("h1");c.className="personalization-title",c.textContent="Select the following options to help us customised your content";var d=document.createElement("fieldset");d.className="personalization-lang-group";var e=document.createElement("legend");e.className="personalization-lang-title",e.textContent="Choose "+objPersonalization[0].section.selectionLimit+" or more languages",d.innerHTML=e.outerHTML;for(var f in objPersonalization[0].section.items){var g=document.createElement("input");g.type="checkbox",g.name="decLanguage",g.className="personalization-lang-btn",g.id="lang"+f,g.value=objPersonalization[0].section.items[f].shortKey;var h=document.createElement("div");h.className="label-wrap";var i=document.createElement("label");i.htmlFor="lang"+f;var j=document.createElement("span");j.textContent=objPersonalization[0].section.items[f].labelId,i.innerHTML=j.outerHTML,h.innerHTML=g.outerHTML+i.outerHTML,d.innerHTML+=h.outerHTML,console.log(d)}var k=document.createElement("fieldset");k.className="personalization-genres-group";var l=document.createElement("legend");l.className="personalization-genres-title",l.textContent="Choose "+objPersonalization[1].section.selectionLimit+" or more genres",k.innerHTML=l.outerHTML;for(var m in objPersonalization[1].section.items){var n=document.createElement("input");n.type="checkbox",n.name="decGenre",n.className="personalization-genres-btn",n.id="genre"+m,n.value=objPersonalization[1].section.items[m].shortKey;var o=document.createElement("div");o.className="label-wrap";var p=document.createElement("label");p.htmlFor="genre"+m;var q=document.createElement("span");q.textContent=objPersonalization[1].section.items[m].labelId;var r=document.createElement("img");r.src=objPersonalization[1].section.items[m].imageUrl,p.innerHTML=q.outerHTML+r.outerHTML,o.innerHTML=n.outerHTML+p.outerHTML,k.innerHTML+=o.outerHTML}var s=document.createElement("div");s.className="personalization-hint",s.style.visibility="hidden";var t=document.createElement("button");t.className="personalization-submit-btn",t.textContent="Done",t.style.visibility="hidden",b.innerHTML=c.outerHTML+d.outerHTML+k.outerHTML+s.outerHTML+t.outerHTML,updateDom(b.outerHTML,".featherlight-inner"),$(".personalization-lang-btn, .personalization-genres-btn").click(function(){personalizationValidation()}),$(".personalization-submit-btn").click(function(a){a.preventDefault(),submitPersonalization()}),$(".featherlight.personalization .featherlight-close").click(function(a){a.preventDefault(),skipPersonalization()})}).fail(function(a,b,c){var d=b+", "+c;console.log("Request Failed: "+d)})}function updateDom(a,b){document.querySelector(b).innerHTML=a}function retrieveCheckboxValues(a,b){var c="",d=0;return $(b+":checked").each(function(){d+=1,c+=(d>1?" ":"")+$(this).val()}),{name:a,values:c,count:d}}function createPersonalizationObject(a){var b="";for(var c in a){var d=retrieveCheckboxValues(a[c].nameOfNode,a[c].elementToMap);b+='"'+d.name+'":"'+d.values+'",'}var e="{"+b.replace(/,$/,"")+"}";return JSON.parse(e)}function personalizationValidation(){var a="",b=objPersonalization[0].section.selectionLimit,c=objPersonalization[1].section.selectionLimit,d=$(".personalization-lang-btn:checked").length;if(d<b){var e=b-d;a+=e,a+=e>1?" languages":" language"}var f=$(".personalization-genres-btn:checked").length;if(f<c){a.length>0&&(a+=" & ");var g=c-f;a+=g,a+=g>1?" genres":" genre"}a.length>0?(a+=" to go",$(".personalization-hint").html(a),$(".personalization-hint").css("visibility","visible"),$(".personalization-submit-btn:visible").css("visibility","hidden")):($(".personalization-hint:visible").css("visibility","hidden"),$(".personalization-submit-btn").css("visibility","visible")),console.log(a)}function submitPersonalization(){$.post("/en/blueprint/servlet/toggle/setUserPersonalizationSelection",createPersonalizationObject(objPersonalization)).done(function(a){a.status,alert("Data: "+a)}).fail(function(a,b,c){var d=b+", "+c;console.log("Request Failed: "+d)})}function skipPersonalization(){$.post("/en/blueprint/servlet/toggle/skipUserPersonalizationSelection",{}),$.featherlight.close()}var rem,baseline=1.25;jQuery(document).ready(function(a){a.fn.truncateToHeight=function(b){function c(c){var d=a(c);if("true"===d.attr("truncated")&&!b)return!1;var e=parseInt(d.attr("data-dotdot")),f=!1;if(d.text().match(/[\u3400-\u9FFF]/))var f=!0;if(isNaN(e))d.dotdotdot();else{var g=parseInt(d.css("line-height"));d.dotdotdot({wrap:f?"letter":"word",height:e*g,lastCharacter:{remove:[" ",",",";",".","-",":"]}})}d.attr("truncated","true")}var d=a(this);_.forEach(d,function(a){c(a,b)})},a(window).resize(function(){(new winprops).isMobile?a("body").removeClass("is-desktop"):a("body").addClass("is-desktop")})}),function(){(new winprops).isMobile||(document.body.className+="is-desktop")}(),jQuery.fn.reverse=[].reverse,jQuery(document).ready(function(a){"use strict";function b(b){e.each(function(e,f){var g=a(f),h=g.attr("data-split-index");b<phoenixVars.breakpoints.mLarge?c.each(function(b,c){parseInt(a(c).attr("data-split-index"))===parseInt(h)&&a(c).append(g)}):d.prepend(g)})}var c=a(".split-insert"),d=a(".split-grid"),e=d.find("[data-split-index]").reverse();b(a(window).width()),a(window).resize(function(c){b(a(window).width())})}),jQuery(document).ready(function(a){"use strict";function b(b,g){isNaN(b)||(a(window).width()>b&&!a("html").hasClass("in-skin")?(f(g),c(g)):(e(g),d(g)))}function c(a){a.find(".collapsible__toggle").hide()}function d(a){a.find(".collapsible__toggle").show()}function e(a){var b=a.find(".collapsible__body");a.addClass("is-collapsed"),b.slideUp("400")}function f(a){var b=a.find(".collapsible__body"),c=a.find("[data-dotdot]");a.removeClass("is-collapsed"),b.slideDown("400"),setTimeout(function(){c.truncateToHeight()},400)}a(".collapsible").each(function(c,d){d.ww=a(window).width();var g,h=a(d).attr("data-collapse-till");switch(h){case"small":g=479;break;case"medium":g=759;break;case"m-large":g=979;break;case"large":g=1023;break;case"larger":g=1140;break;case"":g=null;default:g=parseInt(h)}b(g,a(d)),a(window).resize(function(c){console.log("has been resized"),d.ww=a(window).width();var e=a("html").hasClass("in-skin")?".nav--quicklinks .collapsible":d;b(g,a(e))}),a(d).on("click",".collapsible__toggle",function(b){var c=a(this).closest(".collapsible");c.hasClass("is-collapsed")?f(c):e(c)})})});var tgTabCount=1;jQuery(document).ready(function(a){var b=window.TgTabs||{};b=function(b,c){var d=this;return $el=a(b),d.$el=$el,d.$tabs=$el,d.$wrap=$el.find(".tgtabs__wrap"),d.$row=$el.find(".tgtabs__row"),d.$tab=$el.find(".tgtab"),d.$tabTarget=$el.find(".tgtab__target"),d._settings={activeTab:0,currentRowPos:0,oldEvent:null,numTabs:null,tabRowWidth:null,tabWidth:null,tabHeight:null,visibleTabIndex:0,wrapwidth:null,cssTransitions:null,css3dTransforms:null,cssTransforms:null,prefixes:{},isArrowsShown:!1,animateInit:!0},d.settings={ajaxUrl:null,arrowsAlwaysShown:!1,prevArrowContents:"Left",nextArrowContents:"Right",tabsPerPage:null,tabsToSlide:1,showArrows:"show",responsive:null,onAjaxDone:null,onBeforeChange:null,onAfterChange:null,onBeforeArrowChange:null,onAfterArrowChange:null},d.settings=a.extend(!0,d.settings,c),d.settings.startingTab&&(d._settings.visibleTabIndex=d.settings.startingTab),void 0!==d.settings.animateInit&&(d._settings.animateInit=d.settings.animateInit),d.initialize(),d},b.prototype={constructor:b,initialize:function(){var b=this;b._settings.wrapWidth=b.$wrap.width(),this.createPreloader(),this.getPrefixes(),this.checkCssTransitions(),this.buildArrows(),this.setEventHandlers(),this.setInitialSettings(),this.sortResponsive(),this.checkArrowAppearance(),this.updateSettings(),a(window).resize(a.debounce(150,!1,function(){b._settings.tabHeight=null,b.$el.find(".tgtab__targets").css("height","auto"),b.checkArrowAppearance(),b._settings.wrapWidth=b.$wrap.width(),b.updateSettings(),b.checkArrowStates()})),this.initializeStates(),this.afterInit()},afterInit:function(){this.$el.addClass("has-loaded")},buildArrows:function(){var a='<a href="#" class="tgtabs__prev">'+this.settings.prevArrowContents+"</a>",b='<a href="#" class="tgtabs__next">'+this.settings.nextArrowContents+"</a>";this.$wrap.append('<div class="tgtabs__arrows"></div>'),this.$wrap.find(".tgtabs__arrows").append(a).append(b),this.$arrows=this.$el.find(".tgtabs__arrows"),this.$next=this.$el.find(".tgtabs__next"),this.$prev=this.$el.find(".tgtabs__prev")},createPreloader:function(){var a="preloader"+tgTabCount,b='<div id="'+a+'" class="preloader"></div>';this.$el.append(b),this.$preloader=this.$el.find("#"+a),this.preloader=!0,tgTabCount+=1},checkCssTransitions:function(){Modernizr.csstransitions&&(this._settings.cssTransitions=!0,this._settings.animateInit&&this.setCss(this.$row[0],"transition","0.5s ease-out")),Modernizr.csstransforms3d&&(this._settings.css3dTransforms=!0),Modernizr.csstransforms&&(this._settings.cssTransforms=!0)},getPrefixes:function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];this._settings.prefixes={dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}},setCss:function(a,b,c){var d,e,f=this._settings.prefixes.js;d=f+b.charAt(0).toUpperCase()+b.slice(1),e=b.charAt(0).toLowerCase()+b.slice(1),a.style[d]=c,a.style[e]=c},setEventHandlers:function(){var b=this;b.hammer=new Hammer(b.$row[0]),b.$next.on("click",function(a){a.preventDefault(),a.message="next",_.isNull(b.settings.onBeforeArrowChange)||b.settings.onBeforeArrowChange.call(b),b.slideTabs(a),b.changeShownClasses(),_.isNull(b.settings.onAfterArrowChange)||b.settings.onAfterArrowChange.call(b)}),b.$prev.on("click",function(a){a.preventDefault(),a.message="prev",_.isNull(b.settings.onBeforeArrowChange)||b.settings.onBeforeArrowChange.call(b),b.slideTabs(a),b.changeShownClasses(),_.isNull(b.settings.onAfterArrowChange)||b.settings.onAfterArrowChange.call(b)}),b.$tabs.on("click",".tgtab",function(c){c.preventDefault();var d,e=a(this).index(),f=b.$tabTarget.eq(e),g=a(window).width();!b._settings.tabHeight&&g>760&&(d=b.$tabTarget.eq(b._settings.activeTab).height(),b.$tabTarget.parent().css("height",d),b._settings.tabHeight=d),_.isNull(b.settings.onBeforeChange)||b.settings.onBeforeChange.call(b,f),b.ajaxLoadTabs(f,e),b.activateTab(e),b.activateTabTarget(f),_.isNull(b.settings.onAfterChange)||b.settings.onAfterChange.call(b,f),b.setTabHeight()}),b.$el.on("click",".collapsible__toggle",function(a){b.checkArrowAppearance()}),b.hammer.on("panstart panmove panend",function(a){if(b._settings.isArrowsShown)switch(a.type){case"panstart":b._settings.oldEvent=a,b._settings.cssTransitions&&b.setCss(b.$row[0],"transition","none"),_.isNull(b.settings.onBeforeArrowChange)||b.settings.onBeforeArrowChange.call(b);break;case"panmove":a.preventDefault,b.panHandler(a);break;case"panend":b._settings.cssTransitions&&b.setCss(b.$row[0],"transition","0.5s ease-out"),b.snapToNextPage(a),b.changeShownClasses(),b._settings.oldEvent=null,_.isNull(b.settings.onAfterArrowChange)||b.settings.onAfterArrowChange.call(b);break;default:return!1}})},panHandler:function(a){this.changeLeft(a.deltaX-this._settings.oldEvent.deltaX),this._settings.oldEvent=a},changeLeft:function(a){var b,c=this,d=-1*this._settings.currentRowPos+a;c._settings.cssTransitions?(b=c._settings.css3dTransforms?"translate3d("+d+"px, 0, 0)":"translate("+d+"px, 0)",this.setCss(this.$row[0],"transform",b)):this.$row.animate({marginleft:-rowPos},500),this._settings.currentRowPos=-d},setInitialSettings:function(){this._settings.numTabs=this.$tab.length},initializeStates:function(){this.$tab.eq(0).addClass("is-active"),this.$tabTarget.eq(0).addClass("is-active")},sortResponsive:function(){if(!_.isNull(this.settings.responsive))var a=_.sortBy(this.settings.responsive,function(a){return a.breakpoint});this.settings.responsive=a},checkResponsive:function(){var b=this;_.isNull(this.settings.responsive)||_.forEach(this.settings.responsive,function(c,d){a(window).width()>=c.breakpoint&&_.forEach(c,function(a,c){b.settings[c]=a})})},updateSettings:function(){this.checkResponsive(),this.setTabWidth(),this.setTabRowWidth(),this.resetTabHeight(),this.snapToTab()},setTabRowWidth:function(){var b;"auto"!==this._settings.tabWidth?(b=this._settings.tabWidth*this._settings.numTabs,this.$row.css({width:"9999px"})):(b=_.reduce(this.$tab.slice(0,this._settings.numTabs),function(b,c){return isNaN(b)&&(b=a(b).outerWidth()),b+a(c).outerWidth()},0),this.$row.css({width:"9999px"})),this._settings.rowWidth=b},setTabWidth:function(){var a;a=_.isNull(this.settings.tabsPerPage)?"auto":Math.ceil(parseInt(this._settings.wrapWidth)/this.settings.tabsPerPage),this.$el.find(".tgtab").css({width:a}),this._settings.tabWidth=a},resetTabHeight:function(){},setTabHeight:function(){},activateTab:function(a){var b=this.$tab.eq(a);this.$tab.removeClass("is-active"),b.addClass("is-active"),this._settings.activeTab=a},activateTabTarget:function(a){this.$tabTarget.removeClass("is-active"),a.addClass("is-active")},ajaxLoadTabs:function(b,c){var d=this,e=b.attr("data-ajax-url"),f=b.attr("ajax-loaded")||null;if(!e||f)return!1;this.preloader&&this.$preloader.addClass("is-loading"),this.xhr=a.ajax({url:e,dataType:"html",beforeSend:function(a){b.attr("ajax-loaded","fetching")}}).done(function(a){b.append(a),_.isNull(d.settings.onAjaxDone)||d.settings.onAjaxDone.call(d,b),b.attr("ajax-loaded",!0),d.preloader&&d.$preloader.removeClass("is-loading")}).fail(function(a){console.log("Error",a.statusText)})},slideTabs:function(a){var b;switch(a.message){case"prev":b=this._settings.visibleTabIndex-this.settings.tabsToSlide,b-this.settings.tabsToSlide<0&&(b=0);break;case"next":b=this.settings.tabsToSlide+this._settings.visibleTabIndex,b+this.settings.tabsToSlide>this._settings.numTabs&&(b=this._settings.numTabs-this.settings.tabsToSlide);break;default:return!1}this._settings.visibleTabIndex=b,this.checkArrowStates(),this.snapToTab()},snapToTab:function(){var b,c=0;"auto"!==this._settings.tabWidth?c=this._settings.visibleTabIndex*this._settings.tabWidth:_.isUndefined(this.$tab.slice(0,this._settings.visibleTabIndex)[0])||(c=_.reduce(this.$tab.slice(0,this._settings.visibleTabIndex),function(b,c){return isNaN(b)&&(b=a(b).outerWidth()),b+a(c).outerWidth()},0)),this._settings.isArrowsShown||(c=0,visibleTabIndex=0),this._settings.cssTransitions?(b=this._settings.css3dTransforms?"translate3d("+-c+"px, 0, 0)":"translate("+-c+"px, 0)",this.setCss(this.$row[0],"transform",b)):this.$row.animate({marginleft:-c},500),this._settings.currentRowPos=c},snapToNextPage:function(a){switch(a.direction){case 2:this._settings.visibleTabIndex=this._settings.visibleTabIndex+this.settings.tabsToSlide,this._settings.visibleTabIndex+this.settings.tabsToSlide-1>this._settings.numTabs&&(this._settings.visibleTabIndex=this._settings.numTabs-this.settings.tabsToSlide);break;case 4:this._settings.visibleTabIndex=this._settings.visibleTabIndex-this.settings.tabsToSlide,this._settings.visibleTabIndex<0&&(this._settings.visibleTabIndex=0);break;default:return!1}this.checkArrowStates(),this.snapToTab()},checkArrowAppearance:function(){var b,c=this.$wrap.width(),d=!!this.$el.hasClass("collapsible");this.settings.arrowsAlwaysShown?this._settings.isArrowsShown=!0:("auto"!==this._settings.tabWidth&&null!==this._settings.tabWidth?b=this._settings.visibleTabIndex*this._settings.tabWidth:_.isUndefined(this.$tab.slice(0,this._settings.numTabs)[0])||(b=_.reduce(this.$tab.slice(0,this._settings.numTabs),function(b,c){return isNaN(b)&&(b=a(b).outerWidth()),b+a(c).outerWidth()})),c<b?(this._settings.isArrowsShown=!0,this.$el.find(".tgtabs__arrows").show(),this.$wrap.css({paddingLeft:"41px",paddingRight:"41px"}),d&&(this.$el.hasClass("is-collapsed")?this.$arrows.hide():this.$arrows.show())):(this._settings.isArrowsShown=!1,this.$el.find(".tgtabs__arrows").hide(),this.$wrap.css("padding",0)))},checkArrowStates:function(){!0===this._settings.isArrowsShown&&(0===this._settings.visibleTabIndex?this.$prev.hide():this.$prev.show(),this._settings.visibleTabIndex>=this._settings.numTabs-this.settings.tabsToSlide?this.$next.hide():this.$next.show())},changeShownClasses:function(){var a,b,c=this._settings.visibleTabIndex;_.isNull(this.settings.tabsPerPage)||(a=c+this.settings.tabsPerPage,b=this.$tab.slice(c,a),this.$tab.removeClass("is-shown"),b.addClass("is-shown"))}},a.fn.tgtabs=function(a){return this.each(function(c,d){d.tgtabs=new b(d,a)})}});var currSlide=0,setupGalleryDimensions=function(){$(".gc__main").height(.66*$(".gc__main").width());$(".gc__main").height(.66*$(".gc__main").width()),$(".gc__main .gc__main-image .main-image__item picture").height(.66*$(".gc__main").width())},slidezUpdate=function(a){window.location.hash="slideshow-"+(a.currentSlide+1),$(".main-image__item").hasClass("more-galleries")?($(".gc__main-image--index").text(a.currentSlide+1+"/"+(a.slideCount-1)),a.currentSlide+1>a.slideCount-1?$(".gc__hide-on-last").hide():$(".gc__hide-on-last").show()):$(".gc__main-image--index").text(a.currentSlide+1+"/"+a.slideCount),$(".gc__main-image--fullscreen a").attr("href","?photogalleryfullscreen=true#slideshow-"+(a.currentSlide+1)),$(".gc__caption").html($(".main-image__item.slick-active .main-image__caption").html()),$(".gc__header").html($(".main-image__item.slick-active .main-image__header").html()),$(".gc__credit").html($(".main-image__item.slick-active .main-image__credit").html()),$(".gc__story").html($(".main-image__item.slick-active .main-image__story").html())},highlightNavSlide=function(a){$(".nav-image__item").removeClass("item-slick-selectedz"),$('.nav-image__item[data-slick-index="'+a.currentSlide+'"]').addClass("item-slick-selectedz")},setupSlideNav=function(a){$(".nav-image__item").click(function(){var a=$(this).attr("data-slick-index");sliderControl(a),$(".gc__main-image").slick("slickGoTo",a);var b=$(".main-image__item").length,c=$(".gc__slider-nav li").length;b-2>c&&$(".gc__slider-nav").slick("slickGoTo",c-1)})};jQuery(document).ready(function(a){var b=window.location.hash,c=b.substr(11),d=a(".main-image__item").length;""==c&&(c=1),a(".gc__main-image").length&&(a(".gc__main-image").on("init",function(b){setupGalleryDimensions(),a(".main-image__item").hasClass("more-galleries")?a(".gc__main-image--index").text(c+"/"+(d-1)):a(".gc__main-image--index").text(c+"/"+d),a(".gc__main-image--fullscreen a").attr("href","?photogalleryfullscreen=true#slideshow-"+c),a(".gc__caption").html(a(".main-image__item.slick-active .main-image__caption").html()),a(".gc__header").html(a(".main-image__item.slick-active .main-image__header").html()),a(".gc__credit").html(a(".main-image__item.slick-active .main-image__credit").html()),a(".gc__story").html(a(".main-image__item.slick-active .main-image__story").html())}),a(".gc__slider-nav").on("init",function(b,d){d.slideCount<=d.options.slidesToShow&&a(".gc__slider-nav-arrows").hide(),a('.nav-image__item[data-slick-index="'+(c-1)+'"]').addClass("item-slick-selectedz"),setupSlideNav()}),a(".gc__main-image").slick({dots:!0,infinite:!1,prevArrow:a(".gc__main-slider-arrows.left"),nextArrow:a(".gc__main-slider-arrows.right"),asNavFor:".gc__slider-nav"}),a(".gc__main-image").on("afterChange",function(a,b){slidezUpdate(b),sliderControl(b),highlightNavSlide(b)}),a(".gc__slider-nav").slick({infinite:!1,prevArrow:a(".gc__slider-nav-arrows.left"),nextArrow:a(".gc__slider-nav-arrows.right"),centerMode:!1,slidesToShow:6,slidesToScroll:1,dots:!0}),a(".nav-image__item").click(function(){setupSlideNav()})),a(".gc__main-image, .gc__main-image").slick("slickGoTo",c-1,!0);var e=c-1;e=parseInt(e),a(window).resize(function(){setupGalleryDimensions()})}),$(window).load(function(){setupGalleryDimensions()}),jQuery(document).ready(function(a){var b=a(".primary-nav-toggle"),c=a(".parental-lock");b.on("click",function(a){a.preventDefault(),a.stopPropagation(),toggleOffCanvasMenu(),closeModal()}),c.on("click",function(b){b.preventDefault(),a(this).toggleClass("is-active")})}),jQuery(document).ready(function(a){var b=a(".nav--primary__mobile"),c=b.children(),d=c.children("li").children(),e=a(".mobile__subnav-back");b.on("click","li",function(b){a(this).children("ul").addClass("is-open")}),e.on("click",function(a){d.removeClass("is-open"),a.stopPropagation()}),b.on("click",function(a){a.stopPropagation()})}),jQuery(document).ready(function(a){var b=(a(".user-actions"),a(".search-form-holder")),c=a(".user-actions").find(".search-button"),d=b.find(".search-form"),e=b.find(".search-close");c.on("click",function(a){a.preventDefault(),b.addClass("is-open"),d.find("input").focus()}),e.on("click",function(a){a.preventDefault(),a.stopPropagation(),b.removeClass("is-open"),d.find("input").focusout()})}),jQuery(document).ready(function(a){a(".pnav__has-dropdown").on("click",function(b){b.stopPropagation();var c=a(this);c.toggleClass("is-open"),c.siblings().removeClass("is-open")})}),jQuery(document).ready(function(a){a(window).load(function(){var b=0;a(".nav--primary").find(".nav").children().not(":last-child").each(function(c,d){var e={$el:a(d),width:a(d).width(),show:!1};b=a(d).width(),phoenixVars.navItems.push(e)}),togglePrimaryNavItems(phoenixVars.navItems),a(window).resize(function(){togglePrimaryNavItems(phoenixVars.navItems)})})}),jQuery(document).ready(function(a){function b(b){b.preventDefault();var c=a(this),d=c.index(),e=c.find("a"),g=c.siblings().find("a"),i=e.attr("class").split(" ")[0],j=f.find(".megamenu__item");e.hasClass("is-active")||(g.removeClass("is-active"),e.addClass("is-active")),f.hasClass("is-open")||f.addClass("is-open"),j.hide().eq(d).show().find("li").removeClass("is-active").eq(0).addClass("is-active"),f.attr("data-background",i),setMegaMenuHeight(j.eq(d).find("li").eq(0).find(".l-4up")),setTimeout(function(){setLocalNavTop(h)},400)}function c(){setTimeout(function(){var b=a(".mega-menu--primary-nav"),c=a(".nav--primary").find(".nav--primary__desktop").find(".nav"),d=b.find(".megamenu__item"),e=mouseIsOverWorkaround(c[0]);mouseIsOverWorkaround(b[0])||e||(b.removeClass("is-open"),setTimeout(function(){d.removeClass("is-open"),c.find("li").find("a").removeClass("is-active")},300))},1)}function d(){setTimeout(function(){var b=a(".mega-menu--primary-nav"),c=a(".nav--primary").find(".nav--primary__desktop").find(".nav"),d=b.find(".megamenu__item");b.removeClass("is-open"),setTimeout(function(){d.removeClass("is-open"),c.find("li").find("a").removeClass("is-active")},300)},1)}function e(){}var f=a(".mega-menu--primary-nav"),g=a(".nav--primary").find(".nav--primary__desktop").find(".nav"),h=a(".nav--local");g.hoverIntent({over:b,out:e,selector:"li",timeout:phoenixVars.navHoverDelay}),g.hoverIntent({over:e,out:c,timeout:phoenixVars.navHoverDelay,sensitivity:100}),a(".nav--primary").find(".user-li").hoverIntent({over:d,out:e,timeout:phoenixVars.navHoverDelay}),f.hoverIntent({over:e,out:c,timeout:phoenixVars.navHoverDelay}),megamenuMouseEnter=function(b){if(b.preventDefault(),insertMegaMenuItems(a(this)),a(this).addClass("is-active").siblings().removeClass("is-active hover-on-more"),a(this).hasClass("more"))return a(this).siblings().eq(0).addClass("is-active hover-on-more"),!1},megamenuMouseLeave=function(b){b.preventDefault(),a(this).hasClass("more")&&(a(this).removeClass("is-active"),a(this).siblings().removeClass("hover-on-more"))},f.hoverIntent({over:megamenuMouseEnter,out:megamenuMouseLeave,selector:"li",timeout:phoenixVars.navHoverDelay})}),jQuery(document).ready(function(a){var b=a(".nav--local"),c=b.children("div");b.length&&imagesLoaded(a(window),function(){setLocalNavTop(b),a(window).scroll(function(){a(window).scrollTop()>phoenixVars.localNavTop?(b.css({position:"fixed",top:0}),c.addClass("page-wrap")):(b.css({position:"absolute"}),c.removeClass("page-wrap"))})})}),jQuery(document).ready(function(a){function b(){return g.removeClass("has-more"),i.filter(function(b,c){if(c.offsetLeft+c.clientWidth+(h.find("ul").outerWidth()+20)+a(".nav__video-extras").width()>g.find(".wrap").outerWidth())return c})}function c(){b().length?(b(),h.find("> ul").html(b().clone()),b().hide(),g.addClass("has-more")):g.removeClass("has-more")}var d=a(".local-nav-label"),e=a(".quicklinks-nav-label");if(d.length||e.length){var f=a(".nav--local").find(".nav__list");f.find(".dropdown");d.on("click",function(){toggleLocalNav(),closeOffCanvasMenu(),closeModal()}),e.on("click",function(){
toggleQuickNav()}),a(".nav--quicklinks__page-info").on("click",function(){"none"!=a(".quicklinks-nav-label").css("display")&&toggleQuickNav()});var g=a(".nav-local-holder"),h=(g.find(".wrap").outerWidth(),g.find(".wrap"),a(".skin--left")&&a(".skin--left").width(),a(".nav--local .dropdown")),i=g.find(".nav__list").find("> li").not(".dropdown");g.length&&g.find(".wrap").outerWidth()+(a(".skin--left")?2*a(".skin--left").width():0)>=980&&c(),a(window).resize(a.debounce(150,function(b){g.length&&(i.show(),g.length&&g.find(".wrap").outerWidth()+(a(".skin--left")?2*a(".skin--left").width():0)>=980?c():h&&g.removeClass("has-more"))}))}}),jQuery(document).ready(function(a){var b=a("#account"),c=a(".modal-overlay"),d=a(".modal"),e=(a(".modal__login"),a("body").hasClass("logged-in")),f=a(".modal__close");b.on("click",function(a){e||(c.addClass("is-open"),d.addClass("is-open"),closeOffCanvasMenu(),closeLocalNav())}),d.on("click",function(a){a.stopPropagation()}),c.on("click",function(a){closeModal()}),f.on("click",function(a){closeModal()})});var InSkinEvent=function(a,b,c){if("adServed"==b){$(window).trigger("resize");var d=document.querySelectorAll(".megaslider");d.length&&$.fn.updateSliders(d)}};jQuery(document).ready(function(a){"use strict";a(".search-field__close-icon").hide(),a("#search-field").change(function(){""===this.value.replace(/\s/g,"")?a(".search-field__close-icon").hide():a(".search-field__close-icon").show()}),a(".search-field__close-icon").click(function(){a("#search-field").val(""),a(this).hide()});var b=["Anaheim Ducks","Atlanta Thrashers","Boston Bruins","Buffalo Sabres","Calgary Flames","Carolina Hurricanes","Chicago Blackhawks","Colorado Avalanche","Columbus Blue Jackets","Dallas Stars","Detroit Red Wings","Edmonton OIlers","Florida Panthers","Los Angeles Kings","Minnesota Wild","Montreal Canadiens","Nashville Predators","New Jersey Devils","New Rork Islanders","New York Rangers","Ottawa Senators","Philadelphia Flyers","Phoenix Coyotes","Pittsburgh Penguins","Saint Louis Blues","San Jose Sharks","Tampa Bay Lightning","Toronto Maple Leafs","Vancouver Canucks","Washington Capitals"],c=["Atlanta Hawks","Boston Celtics","Charlotte Bobcats","Chicago Bulls","Cleveland Cavaliers","Dallas Mavericks","Denver Nuggets","Detroit Pistons","Golden State Warriors","Houston Rockets","Indiana Pacers","LA Clippers","LA Lakers","Memphis Grizzlies","Miami Heat","Milwaukee Bucks","Minnesota Timberwolves","New Jersey Nets","New Orleans Hornets","New York Knicks","Oklahoma City Thunder","Orlando Magic","Philadelphia Sixers","Phoenix Suns","Portland Trail Blazers","Sacramento Kings","San Antonio Spurs","Toronto Raptors","Utah Jazz","Washington Wizards"],d=a.map(b,function(a){return{value:a,data:{category:"NHL"}}}),e=a.map(c,function(a){return{value:a,data:{category:"NBA"}}});d.concat(e)}),jQuery(document).ready(function(a){"use strict";var b=window.Pagination||{};b=function(b,c){var d=this;return d.settings={activePage:1,pages:1,onBeforeChange:function(){},onAfterChange:function(){}},d.$element=a(b),d.settings.pages=d.$element.find(".pagination__item").length,d.$next=d.$element.find(".pagination__next"),d.$prev=d.$element.find(".pagination__prev"),d.$items=d.$element.find(".pagination__item"),d.settings=a.extend(!0,d.settings,c),d.initialize(),d},b.prototype.initialize=function(){var a=this;a.$next.on("click",function(){a.settings.onBeforeChange();var b=this;a.nextPage(b),a.setStates(b),a.settings.onAfterChange()}),a.$prev.on("click",function(){var b=this;a.settings.onBeforeChange(),a.prevPage(b),a.setStates(b),a.settings.onAfterChange()}),a.$element.on("click",".pagination__item",function(){var b=this;a.settings.onBeforeChange(),a.goToPage(b),a.setStates(b),a.settings.onAfterChange()})},b.prototype.isDisabled=function(b){if(a(b).hasClass("is-disabled")||a(b).hasClass("is-active"))return!0},b.prototype.prevPage=function(a){var b=this;if(b.isDisabled(a))return!1;b.settings.activePage-1>0&&(b.settings.activePage-=1)},b.prototype.nextPage=function(a){var b=this;if(b.isDisabled(a))return!1;b.settings.activePage+1<=b.settings.pages&&(b.settings.activePage+=1)},b.prototype.goToPage=function(b){var c=this;if(c.isDisabled(b))return!1;c.settings.activePage=parseInt(a(b).attr("data-page"))},b.prototype.setStates=function(a){var b=this;b.$items.removeClass("is-active"),b.$items.eq(b.settings.activePage-1).addClass("is-active"),b.$prev.removeClass("is-disabled"),b.$next.removeClass("is-disabled"),1===b.settings.activePage&&b.$prev.addClass("is-disabled"),b.settings.activePage===b.settings.pages&&b.$next.addClass("is-disabled"),forceRedraw(b.$element)},b.prototype.addTotalPageToMobile=function(){var a=this;a.$element.find(".pagination__item").find("a").append("<span> of "+a.settings.pages+"</span>")},a.fn.pagination=function(a){this.p=new b(this,a)},a.fn.goToPage=function(){var a=this;a.p.goToPage(),a.p.setStates()}}),jQuery(document).ready(function(a){var b=a(".article");b.length?(console.log("has article"),b.find(".pagination").pagination({onAfterChange:function(){var b,c,d=this,e=d.activePage,f=a("#detailsId"+e);a(".details-text-content").hide(),a(f).show(),b=1==e?3:4,c=a(".article__body .split-insert").remove(),a(f).find("p").length>b?a(f).find("p").eq(b-1).after(c):a(f).append(c),a("html, body").animate({scrollTop:a("#pagingText").offset().top},1e3)}})):a(".pagination").each(function(b,c){a(this).pagination()})}),jQuery(document).ready(function(a){function b(){var b=a(".fixed-height--square").width(),c=9*b/16;a(".sc .main-image__item").find("picture").find("img").height(c)}a.fn.getFeaturedCarouselImageHeight=function(){var b=a(window).width();return b>=980?a(this).width()/3.917525773:b>=760?a(this).width()/2.692307692:b>=560?a(this).width()/1.78:9*a(this).width()/16},b(),a(window).resize(a.debounce(150,function(a){b()})),a.fn.setCarouselHeight=function(){var b=a(this),c=b.closest(".mc").length?b.closest(".mc"):null,d=(b.closest(".sc").length&&b.closest(".sc"),Math.floor(b.getCarouselImageHeight()));if(c){var e=c.find("picture").find("img"),f=c.find(".main-image__desc");a(window).width()>=760?(e.height(d),f.height(d)):(e.height("auto"),f.height("auto"))}},a.fn.getCarouselImageHeight=function(){var b,c=a(this),d=c.closest(".fc").length?c.closest(".fc"):null,e=c.closest(".mc").length?c.closest(".mc"):null,f=c.closest(".sc").length?c.closest(".sc"):null;return d&&a(window).width()<=560&&(b=9*a(this).width()/16),e&&(b=a(window).width()>=760?a(this).width()/2.967889908:9*a(this).width()/16),f&&(b=9*c.width()/16),b},a.fn.setArrowAndDotPositions=function(){var b=a(this),c=b.find(".slick-prev, .slick-next"),d=b.find(".slick-dots"),e=b.getFeaturedCarouselImageHeight(),f=b.getCarouselImageHeight(),g=c.eq(0).outerHeight();b.closest(".fc").length?a(window).width()>=760?(c.css({top:e/2-g/2+"px"}),d.css({bottom:0})):(console.log(f),c.css({top:f/2-g/2+"px"}),d.css({bottom:0})):(c.css({top:f/2-g/2+"px"}),d.css({bottom:0}))}}),jQuery(document).ready(function(a){"use strict";var b=a(".carousel");if(b.length){b.slick({dots:!0}),b.each(function(b,c){setArrowAndDotPositions(a(c))}),a(window).resize(a.debounce(150,function(c){b.each(function(b,c){setArrowAndDotPositions(a(c))})}));var c,d,e=a(".sc");d=Math.floor(9*a(".sc").eq(0).find(".sc__main-image").width()/16),c=rhythm(12.5)-d,e.each(function(b,d){a(d).find("p").css("height",c)}),a(window).resize(a.debounce(150,function(b){d=Math.floor(9*a(".sc").eq(0).find(".sc__main-image").width()/16),c=rhythm(12.5)-d,e.each(function(b,d){a(d).find("p").css("height",c)})}))}}),jQuery(document).ready(function(a){"use strict";var b=a(".carousel-grid");if(b.length){var c="mobile";a(window).width()>760?(c="desktop",wrapItemsInCarousel(),b.slick({dots:!0})):b.slick({dots:!0}),a(window).resize(a.debounce(150,!1,function(){a(window).width()<760&&"desktop"==c&&(b.slick("unslick"),unwrapItems(),b.slick({dots:!1}),c="mobile"),a(window).width()<760||"mobile"!=c||(b.slick("unslick"),wrapItemsInCarousel(),b.slick({dots:!0}),c="desktop")}))}}),jQuery(document).ready(function(a){"use strict";var b=a(".fc");if(b.length){b.find(".fc__main-image").slick({autoplay:!0,autoplaySpeed:5e3,dots:!0,pauseOnHover:!0,responsive:[{breakpoint:980,settings:{fade:!1,slidesToShow:1}}]})}}),jQuery(document).ready(function(a){var b=a(".fixed-height--episode"),c=b.find(".fixed-height__list"),d=c.children();if(b.length){a(window).width()<760&&episodeListMobile(),b.find(".tg-load-more").click(function(c){c.preventDefault(),d.show(),a(this).hide(),b.attr("showMoreClicked",!0),a(this).parent().hasClass("fixed-height")&&(a(this).parent().find(".jspContainer").css("height","auto"),a(this).parent().find(".jspPane").css("position","relative"))})}a(window).resize(a.debounce(150,!1,function(c){a(window).width()>760?(b.find(".tg-load-more").hide(),d.show()):episodeListMobile()})),b.find("li").length<4&&a(".tg-load-more").hide()}),jQuery(document).ready(function(a){"use strict";var b=a(".mc__main-image");b.slick({dots:!0,autoplay:!0,autoplaySpeed:5e3}),b.each(function(b,c){a(c).setCarouselHeight(),a(c).setArrowAndDotPositions()}),a(window).resize(a.debounce(150,function(c){b.each(function(b,c){a(c).setCarouselHeight(),a(c).setArrowAndDotPositions()})}))}),jQuery(document).ready(function(a){"use strict";var b=a(".sc__main-image");b.slick({dots:!0}),b.each(function(b,c){a(c).setCarouselHeight(),a(c).setArrowAndDotPositions()}),a(window).resize(a.debounce(150,function(c){b.each(function(b,c){a(c).setCarouselHeight(),a(c).setArrowAndDotPositions()})}))}),jQuery(document).ready(function(a){var b=window.Aasel||{};b=function(b,c){var d=this,e=a(b);return d.$el=e,d.$aaselItems=e.find(".aasel__item"),d.$aaselInnerItems=e.find(".aasel__inner-item-holder"),d.settings={aaselMobileHeight:0,aaselHeight:0,currentLeft:0,currentMobilePage:1,currentPage:1,gutterSize:"0",gutterSizePx:0,HeightWidthRatio:"0.5625",itemWidths:{small:"25%",medium:"50%",large:"75%",half:"50%",full:"100%"},itemWidthsPx:{},itemHeightsPx:{},mobileGutterSize:"0",mobileGutterSizePx:0,mobileItemsPerPage:6,mobilePageLocations:[],mobileWrapWidth:0,totalMobilePages:0,totalPages:4,wrapWidth:0,autoScrollTimeInSeconds:5,autoScrollTimeout:null},d.aaselTypes={six:e.find(".aasel__item--6"),four:e.find(".aasel__item--4"),two:e.find(".aasel__item--2"),one:e.find(".aasel__item--1")},d.settings=a.extend(!0,d.settings,c),d.initialize(),d},b.prototype.swipedetect=function(a,b){var c,d,e,f,g,h,i,j=a,k=150,l=100,m=300,n=b||function(a){};j.addEventListener("touchstart",function(a){var b=a.changedTouches[0];c="none",dist=0,d=b.pageX,e=b.pageY,i=(new Date).getTime()},!1),j.addEventListener("touchmove",function(a){},!1),j.addEventListener("touchend",function(a){var b=a.changedTouches[0];f=b.pageX-d,g=b.pageY-e,h=(new Date).getTime()-i,h<=m&&(Math.abs(f)>=k&&Math.abs(g)<=l?c=f<0?"left":"right":Math.abs(g)>=k&&Math.abs(f)<=l&&(c=g<0?"up":"down")),n(c),a.preventDefault()},!1)},b.prototype.initialize=function(){var b=this;ww=a(window).width(),b.buildWrap(),b.setTotalPages(),b.buildMobileClone(),b.buildDotsAndArrows(),b.setWrapWidth(ww),b.initDotStates(),b.initArrowStates(),b.updateSettings(ww),a(window).resize(a.debounce(150,!1,function(){ww=a(window).width(),b.updateSettings(ww),b.arrowStates()})),b.$el.mouseover(function(){clearTimeout(b.autoScrollTimeout),b.autoScrollPaused=!0}),b.$el.mouseleave(function(){b.autoScrollPaused=!1,b.scrollLater()}),b.swipedetect(b.$el.get(0),function(a){"left"==a?b.$next.trigger("click"):b.$prev.trigger("click")}),b.scrollLater()},b.prototype.scrollLater=function(){var a=this;clearTimeout(a.autoScrollTimeout),a.autoScrollTimeout=setTimeout(function(){a.$next.trigger("click")},1e3*a.settings.autoScrollTimeInSeconds)},b.prototype.updateSettings=function(a){var b=this;b.setWrapWidth(a),b.setGutterSize(a),a<760?(b.setOuterLayout(b.settings.mobileWrapWidth),b.setMobileLocations(a),b.setMobileCommonCss(a),b.setAaselMobileHeight(),b.setMobileBackgroundImage()):(b.setOuterLayout(b.settings.wrapWidth),b.setCommonCss(b.settings.wrapWidth),b.positionAaselItems(),b.setAaselHeight(),b.setDesktopBackgroundImage()),b.setAaselArrowTop(),b.SnapToClosest(a)},b.prototype.buildWrap=function(){var a=this,b=a.$el;b.children().wrapAll('<div class="aasel__wrap"><div class="aasel__row"></div></div>'),a.$wrap=b.find(".aasel__wrap"),a.$row=b.find(".aasel__row"),a.$el.prepend('<div class="aasel__mobile-wrap"><div class="aasel__mobile-row"></div></div>'),a.$mobileWrap=b.find(".aasel__mobile-wrap"),a.$mobileRow=b.find(".aasel__mobile-row")},b.prototype.buildMobileClone=function(){var a=this,b=[],c=_.cloneDeep(a.$aaselInnerItems),d="";a.settings.totalMobilePages=Math.ceil((a.$aaselInnerItems.length-3)/a.settings.mobileItemsPerPage)+1;for(var e=0;e<a.settings.totalMobilePages;e++)b.push([]);_.forIn(c,function(c,d){if(!isNaN(d))switch(d){case"0":case"1":case"2":b[0].push(c);break;default:var e=Math.ceil((d-2)/a.settings.mobileItemsPerPage);b[e].push(c)}}),_.forEach(b,function(a){d+='<div class="aasel__mobile-item">',_.forEach(a,function(a){d+=a.outerHTML}),d+="</div>"}),a.$mobileRow.append(d),a.$aaselMobileItems=a.$el.find(".aasel__mobile-item"),a.$aaselMobileInnerItems=a.$aaselMobileItems.find(".aasel__inner-item-holder"),(a.$aaselInnerItems.length-3)%a.settings.mobileItemsPerPage!=0&&a.settings.totalMobilePages--,a.$aaselMobileInnerItems.find(".item__title").slice(1).attr("data-dotdot","1")},b.prototype.buildDotsAndArrows=function(){var b=this;b.$el.append('<div class="aasel__arrows"></div>'),b.$arrows=b.$el.find(".aasel__arrows"),b.$arrows.append('<a href="#" class="aasel__prev"><i class="ti-slider-prev"></i></a>'),b.$arrows.append('<a href="#" class="aasel__next"><i class="ti-slider-next"></i></a>'),b.$el.append('<div class="aasel__dots-holder">'),b.$dotHolder=b.$el.find(".aasel__dots-holder"),b.$dotHolder.append('<div class="aasel__dots"></div>'),b.$dots=b.$el.find(".aasel__dots"),b.$dots.append('<div class="dots__mobile"></div>'),b.$mobileDots=b.$dots.find(".dots__mobile");for(var c=b.settings.totalMobilePages;c>=1;c--)b.$mobileDots.append('<div class="dot"></div>');b.$dots.append('<div class="dots__desktop"></div>'),b.$desktopDots=b.$dots.find(".dots__desktop");for(var c=b.settings.totalPages;c>=1;c--)b.$desktopDots.append('<div class="dot"></div>');b.$prev=b.$el.find(".aasel__prev"),b.$next=b.$el.find(".aasel__next"),b.$prev.on("click",function(a){a.preventDefault(),a.data={message:"prev"},clearTimeout(b.autoScrollTimeout),b.changePage(a),b.dotStates(),b.arrowStates(),b.autoScrollPaused||b.scrollLater()}),b.$next.on("click",function(a){a.preventDefault(),a.data={message:"next"},clearTimeout(b.autoScrollTimeout),b.changePage(a),b.dotStates(),b.arrowStates(),b.autoScrollPaused||b.scrollLater()}),a(".aasel__dots").on("click",".dot",function(c){c.preventDefault();var d=a(this),e=d.index();clearTimeout(b.autoScrollTimeout),b.goToPage(e),b.dotStates(),b.arrowStates(),b.autoScrollPaused||b.scrollLater()})},b.prototype.setOuterLayout=function(b){var c=this,d=0;_.forEach(c.$aaselMobileItems,function(c){a(c).css({left:d,width:b}),d+=b}),_.forEach(c.$aaselItems,function(c){a(c).css({left:d,width:b}),d+=b})},b.prototype.setGutterSize=function(a){var b=this;b.settings.gutterSizePx=Math.floor(a*parseFloat(b.settings.gutterSize)/100),b.settings.mobileGutterSizePx=Math.floor(a*parseFloat(b.settings.mobileGutterSize)/100)},b.prototype.setTotalPages=function(){var a=this;a.settings.totalPages=a.$aaselItems.length},b.prototype.setWrapWidth=function(a){var b=this;b.settings.wrapWidth=parseInt(b.$wrap.css("width")),b.settings.mobileWrapWidth=parseInt(b.$mobileWrap.css("width"))},b.prototype.setMobileCommonCss=function(a){var b=this,c=(b.$el,Math.floor(parseFloat("50%")*a/100)),d=Math.floor(c*b.settings.HeightWidthRatio);b.$aaselMobileItems.slice(1).children().css({width:c,height:d,padding:b.settings.mobileGutterSizePx}),b.$aaselMobileItems.eq(0).children().css({width:c,height:d,padding:b.settings.mobileGutterSizePx}),b.$aaselMobileItems.eq(0).children().eq(0).css({width:"100%",height:2*d}),b.settings.aaselMobileHeight=3*d},b.prototype.setCommonCss=function(a){var b=this;_.forEach(b.settings.itemWidths,function(c,d){var e=Math.floor(parseFloat(c)*a/100),f=Math.floor(e*b.settings.HeightWidthRatio);"medium"===d&&e%2==1&&(e-=1),"large"===d&&(f=3*b.settings.itemHeightsPx.small),b.settings.itemWidthsPx[d]=e,b.settings.itemHeightsPx[d]=f,b.$row.find(".item--"+d).css({width:e,height:f}),"half"!==d&&"full"!==d||b.$row.find(".item--"+d).css({height:b.settings.itemHeightsPx.large})}),b.$aaselInnerItems.css({position:"relative",padding:b.settings.gutterSizePx})},b.prototype.setAaselMobileHeight=function(a){var b=this;b.$mobileRow.css({height:b.settings.aaselMobileHeight})},b.prototype.positionAaselItems=function(){var b=this;_.forEach(b.$aaselItems,function(c,d){var e=a(c),f=0,g=0;e.hasClass("aasel__item--6")?_.forEach(e.children(),function(c,d){switch(d){case 0:break;case 1:f+=b.settings.itemWidthsPx.medium;break;case 2:f=f+b.settings.itemWidthsPx.medium+b.settings.itemWidthsPx.small;break;case 3:g=b.settings.itemHeightsPx.medium;break;case 4:f+=b.settings.itemWidthsPx.small,g=b.settings.itemHeightsPx.medium;break;case 5:f+=b.settings.itemWidthsPx.medium,g=b.settings.itemHeightsPx.small;break;default:return!1}b.setInnerItemCss(a(c),f,g),f=0,g=0}):e.hasClass("aasel__item--4")&&_.forEach(e.children(),function(c,d){switch(d){case 0:break;case 1:f=b.settings.itemWidthsPx.large;break;case 2:f=b.settings.itemWidthsPx.large,g=b.settings.itemHeightsPx.small;break;case 3:f=b.settings.itemWidthsPx.large,g=2*b.settings.itemHeightsPx.small;break;default:return!1}b.setInnerItemCss(a(c),f,g),f=0,g=0})})},b.prototype.setAaselHeight=function(a){var b=this,c=b.settings.itemWidthsPx.full,d=b.settings.itemHeightsPx.large,e=2*b.settings.gutterSizePx;b.$wrap.css({transform:"scale("+(d+e)/d+","+(c+e)/c+")"}),b.$row.css({height:d}),b.settings.aaselHeight=d},b.prototype.setBackgroundImage=function(b,c,d){var e=c.find("["+b+"]");_.forEach(e,function(c){var e=parseInt(a(c).closest(".aasel__inner-item-holder").css("width")),f=parseInt(a(c).closest(".aasel__inner-item-holder").css("height"));a(c).css({width:Math.floor(e-2*d),height:Math.floor(f-2*d),backgroundImage:'url("'+a(c).attr(b)+'")'})})},b.prototype.setMobileBackgroundImage=function(){var a=this;a.setBackgroundImage("aasel-mobile-background-image",a.$mobileRow,a.settings.mobileGutterSizePx),a.$aaselMobileItems.eq(0).find(".item__image").css({width:"100%",padding:0})},b.prototype.setDesktopBackgroundImage=function(){var a=this;a.setBackgroundImage("aasel-background-image",a.$row,a.settings.gutterSizePx)},b.prototype.setLeftDesktop=function(a){var b=this,c=parseInt(b.$aaselItems.eq(a-1).css("left"));b.$row.animate({left:-c},400),b.settings.currentLeft=c},b.prototype.setLeftMobile=function(a){var b=this,c=parseInt(b.$aaselMobileItems.eq(a-1).css("left"));b.$mobileRow.animate({left:-c},400),b.settings.currentLeft=c},b.prototype.setMobileLocations=function(a){var b=this;b.settings.mobilePageLocations=[];for(var c=0;c<b.settings.totalMobilePages;c++)b.settings.mobilePageLocations.push(c*a)},b.prototype.setAaselArrowTop=function(){var b=a(window).width()>=760?this.settings.aaselHeight:this.settings.aaselMobileHeight,c=this.$prev.outerHeight();this.$arrows.css({top:b/2-c/2})},b.prototype.SnapToClosest=function(a){var b=this;if(a>=760)b.setLeftDesktop(b.settings.currentPage);else{var c=b.getClosest(b.settings.mobilePageLocations,b.settings.currentLeft);c=c<0?0:c,b.$mobileRow.animate({left:-c}),b.settings.currentMobilePage=b.settings.mobilePageLocations.indexOf(c)+1,b.settings.currentLeft=c}},b.prototype.getClosest=function(a,b){var c=_.map(a,function(a){return[a,Math.abs(a-b)]});return _.reduce(c,function(a,b){return a[1]<b[1]?a:b},[-1,999])[0]},b.prototype.setInnerItemCss=function(a,b,c){a.css({position:"absolute",left:b,top:c})},b.prototype.changePage=function(b){var c=this;switch(b.data.message){case"prev":c.settings.currentPage=1==c.settings.currentPage?c.settings.totalPages:c.settings.currentPage-1,c.settings.currentMobilePage=1==c.settings.currentMobilePage?c.settings.totalMobilePages:c.settings.currentMobilePage-1;break;case"next":c.settings.currentPage=c.settings.currentPage==c.settings.totalPages?1:c.settings.currentPage+1,c.settings.currentMobilePage=c.settings.currentMobilePage==c.settings.totalMobilePages?1:c.settings.currentMobilePage+1;break;default:return!1}a(window).width()>=760?c.setLeftDesktop(c.settings.currentPage):c.setLeftMobile(c.settings.currentMobilePage)},b.prototype.goToPage=function(b){var c=this,d=b+1;a(window).width()>760?(c.setLeftDesktop(d),c.settings.currentPage=d):(c.setLeftMobile(d),c.settings.currentMobilePage=d)},b.prototype.initDotStates=function(){var a=this;a.$mobileDots.children().eq(0).addClass("is-active"),a.$desktopDots.children().eq(0).addClass("is-active")},b.prototype.initArrowStates=function(){this.$prev.addClass("is-disabled")},b.prototype.arrowStates=function(){var b=this;b.$prev.removeClass("is-disabled"),b.$next.removeClass("is-disabled"),a(window).width()>=760?(1===b.settings.currentPage&&b.$prev.addClass("is-disabled"),b.settings.currentPage===b.settings.totalPages&&b.$next.addClass("is-disabled")):(1===b.settings.currentMobilePage&&b.$prev.addClass("is-disabled"),b.settings.currentMobilePage===b.settings.totalMobilePages&&b.$next.addClass("is-disabled"))},b.prototype.dotStates=function(){var a=this;a.$dotHolder.find(".dot").removeClass("is-active"),a.$mobileDots.children().eq(a.settings.currentMobilePage-1).addClass("is-active"),a.$desktopDots.children().eq(a.settings.currentPage-1).addClass("is-active")},a.fn.aasel=function(a){return this.each(function(c,d){d.aasel=new b(d,a)})}}),jQuery(document).ready(function(a){a(".aasel").aasel()}),jQuery(document).ready(function(a){a(".tgtabs").not(".tgtabs--epg").tgtabs({tabsToSlide:(new winprops).screen<480?1:2,prevArrowContents:'<i class="ti-arrow-back"></i>',nextArrowContents:'<i class="ti-arrow-next"></i>',onAjaxDone:updateSliders})}),window.allSliders,jQuery(document).ready(function(a){var b=window.Sliders||{},c=window.Slider||{};b=function(b,c){var d=this;return this.globalSettings={hasCssTransitions:!1,hasCss3dTransforms:!1,gutterWidth:20,sliderWidth:0},this.typeSettings={},this.sliderConfig=c,_.forEach(this.sliderConfig,function(b,c){var e=a(d.sliderConfig[c].targetClass).not(d.sliderConfig[c].ignoredClasses);e.length&&(d.typeSettings[c]={},d.typeSettings[c].$els=e,d.typeSettings[c].config=d.sliderConfig[c])}),this.initialize(),this},b.prototype={constructor:b,initialize:function(){var b=a(window).width(),c=this;this.getPrefixes(),this.detectFeatures(),this.buildSliders(),this.calculateSliderProperties(b),this.updateSliderSettings(b),a(window).resize(a.debounce(150,!1,function(){b!=a(window).width()&&(b=a(window).width(),c.calculateSliderProperties(b),c.updateSliderSettings(b),c.resetSliderToStart())}))},getPrefixes:function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];this.globalSettings.prefixes={dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}},detectFeatures:function(){Modernizr.csstransitions&&(this.globalSettings.hasCssTransitions=!0),Modernizr.csstransforms3d&&(this.globalSettings.hasCss3dTransforms=!0)},buildSliders:function(){var a=this,b=1;_.forIn(this.typeSettings,function(d,e){a.typeSettings[e].refArray=[],_.forEach(d.$els,function(d,f){d.slider=new c(d,b,e,a.globalSettings),a.typeSettings[e].refArray.push({el:d,ref:b}),b+=1})}),this.totalSliders=b},calculateSliderProperties:function(a){var b=this;_.forIn(this.typeSettings,function(c,d){var e=c.config,f=e.config;b.setItemsToShow(d,f.numItemsToShow,a),b.setItemsToSlide(d),b.setItemWidth(d,a),b.setItemHeight(d,a),b.setInnerItemProps(d,a)})},setItemsToShow:function(a,b,c){var d;_.forIn(b,function(a,b){c>parseInt(b)&&(d=a)}),this.typeSettings[a].itemsToShow=d},setItemsToSlide:function(a){this.typeSettings[a].itemsToSlide=Math.floor(this.typeSettings[a].itemsToShow)},setItemWidth:function(a,b){var c,d,e,f,g=(this.$el,this.$items,this.typeSettings[a]),h=g.itemsToShow,i=this.globalSettings.gutterWidth;if(g.refArray.length)for(var j=0;j<g.refArray.length&&(c=g.refArray[j].el.slider,!((d=c.$wrap.width())>0));j++);f=(h-1)*i,e=Math.round((d-f)/h),g.wrapWidth=d,g.itemWidth=e},setItemHeight:function(a,b){var c,d,e=(this.$el,this.typeSettings[a]),f=(e.refArray[0].el.slider,e.itemWidth);switch(a){case"megaSlider":console.log(this),c=1.02*f;break;case"megaSliderSingle":case"megaSliderIn8":case"megaSliderIn4":case"megaSlider3up":var d={titleLines:2,titleLineHeight:20,titleMargins:10,metaLines:.8,metaLineHeight:19.2,metaMargins:0,imageHeight:9*f/16};c=d.titleLines*d.titleLineHeight+d.titleMargins+d.metaLines*d.metaLineHeight+d.metaMargins+d.imageHeight,c=Math.round(c);break;case"megaSliderPortrait":case"megaSlider3upPortrait":var d={titleLines:2,titleLineHeight:20,titleMargins:10,metaLines:.8,metaLineHeight:19.2,metaMargins:0,imageHeight:4*f/3};c=d.titleLines*d.titleLineHeight+d.titleMargins+d.metaLines*d.metaLineHeight+d.metaMargins+d.imageHeight,c=Math.round(c);break;default:c=f}e.itemHeight=c},setInnerItemProps:function(b,c){if("megaSlider"==b){var d=(this.$el,this.typeSettings[b]),e=d.refArray,f=this.globalSettings.gutterWidth,g=null,h={},i=null,j={},k=null,l={};if(_.chain(e).pluck("el").pluck("slider").pluck("$items").flatten().forEach(function(b){a(b).each(function(b,c){if(null==i&&a(c).hasClass("megaslider__item--3")?i=c:null==k&&a(c).hasClass("megaslider__item--4")?k=c:null==g&&a(c).hasClass("megaslider__item--featured")&&(g=c),g&&i&&k)return!1})}),g&&c>=760){var m=a(g),n=m.find(".item__title"),o=m.find(".meta"),p=m.find(".desc");h.imageHeight=Math.floor(9*d.itemWidth/16),h.titleLines=2,h.titleLineHeight=Math.floor(parseInt(n.css("line-height"))),h.titleHeight=h.titleLines*h.titleLineHeight,h.metaLines=1,h.metaLineHeight=Math.floor(parseInt(o.css("line-height"))),h.descLines=2,h.descLineHeight=Math.floor(parseInt(p.css("line-height"))),h.descHeight=h.descLines*h.descLineHeight,h.totalMargins=Math.floor(parseInt(n.css("margin-top"))+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom")))}if(i&&c>=760&&(j.imageHeight=Math.floor((d.itemHeight-2*f)/3),j.imageWidth=Math.floor(16*j.imageHeight/9),j.marginBottom=.5*f,j.paddingBottom=.5*f,j.itemInfoMargin=.5*f+j.imageWidth),k&&c>=760){var q=a(k),n=q.find(".item__title"),o=q.find(".meta"),p=q.find(".desc");l.titleLines=2,l.titleHeight=Math.ceil(2.25*parseInt(n.css("font-size"))),l.metaLines=1,l.metaLineHeight=Math.ceil(parseInt(o.css("line-height"))),l.totalMargins=Math.floor(parseInt(n.css("margin-top"))+parseInt(o.css("margin-bottom"))+parseInt(o.css("margin-top"))),l.itemWidth=Math.floor((d.itemWidth-f/2)/2),l.imageHeight=Math.floor(9*l.itemWidth/16),l.innerItemHeight=l.titleHeight+l.metaLines*l.metaLineHeight+l.totalMargins+l.imageHeight,l.verticalGutter=Math.floor(d.itemHeight-2*l.innerItemHeight)}d.oneItemProp=h,d.threeItemProp=j,d.fourItemProp=l}},updateSliderSettings:function(a){_.forIn(this.typeSettings,function(b,c){b.config;_.forEach(b.refArray,function(c,d){c.el.slider.updateSettings(b,a)})})},resetSliderToStart:function(){_.forIn(this.typeSettings,function(a,b){_.forEach(a.refArray,function(a){a.el.slider.resetSliderToStart()})})}},c=function(b,c,d,e){return this.settings={type:d,reference:c,oldEvent:null,currentLeft:0,currentIndex:0,totalItems:null,slideLocations:[],hasAllShownOnMobile:!1},this.globalSettings=e,this.$el=a(b),this.$items=this.$el.find(".megaslider__item"),this.initializeSlider(c,d),this.$el.addClass("has-loaded"),this},c.prototype={constructor:c,initializeSlider:function(b,c){var d=a(window).width();this.buildWrap(b,c),this.buildArrows(),this.buildMoreButton(),this.registerClickHandlers(d),this.registerSwipeHandlers(d),this.setTotalItems()},buildWrap:function(a,b){var c=this.$el;c.children().wrapAll('<div class="slider-wrap" data-ref="'+a+'" data-type="'+b+'"><div class="slider-row"></div></div>"'),this.$dataType=b,this.$wrap=c.find(".slider-wrap"),this.$row=c.find(".slider-row")},buildArrows:function(){var a=this.$el;a.append('<a href="#" class="slider-prev"><i class="ti-slider-prev"></i></a><a href="#" class="slider-next"><i class="ti-slider-next"></i></a> '),this.$prevArrow=a.find(".slider-prev"),this.$nextArrow=a.find(".slider-next")},buildMoreButton:function(){var a=this,b=a.$el;b.find(".megaslider__item").length>3&&!b.find(".tg-load-more").length&&b.append('<a href="#" class="btn tg-load-more">Show More</a>'),this.$loadMore=b.find(".tg-load-more")},registerClickHandlers:function(){var b=this,c=b.$el,d=this.globalSettings.prefixes;this.$prevArrow.on("click",_.throttle(function(a){var c=document.querySelector(".page-wrap");a.preventDefault(),a.data={message:"prev"},b.globalSettings.hasCssTransitions&&b.setCss(b.$row[0],"transition","0.5s ease-out",d),b.changeSlideOnClick(a),b.checkArrowStates(c),b.globalSettings.hasCssTransitions&&_.debounce(function(){b.setCss(b.$row[0],"transition","none",d)},500)},500)),this.$nextArrow.on("click",_.throttle(function(c){var e=a(window).width();c.preventDefault(),c.data={message:"next"},b.globalSettings.hasCssTransitions&&b.setCss(b.$row[0],"transition","0.5s ease-out",d),b.changeSlideOnClick(c),b.checkArrowStates(e),b.globalSettings.hasCssTransitions&&_.debounce(function(){b.setCss(b.$row[0],"transition","none",d)},500),b.toggleShowImage(e)},500)),this.$loadMore.on("click",function(d){var e=a(window).width();d.preventDefault(),b.settings.hasAllShownOnMobile=!0,b.showMoreItems(e),toggle.functions.showImage(c),a(this).remove()})},registerSwipeHandlers:function(b){var c=this,d=(this.$el,this.globalSettings.prefixes);this.hammer=new Hammer(this.$row[0]),this.hammer.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),c.hammer.on("panstart panmove panend pancancel",function(e){if(a(window).width()>760)switch(e.type){case"panstart":c.settings.oldEvent=e,c.setCss(c.$row[0],"transition","none",d);break;case"panmove":c.panHandler(e);break;case"panend":c.setCss(c.$row[0],"transition","all 0.5s ease-out",d),c.panendHandler(e),c.checkArrowStates(b),c.toggleShowImage(b),c.settings.oldEvent=null;break;default:return!1}})},setTotalItems:function(){this.settings.totalItems=this.$items.length},updateSettings:function(a,b){this.typeSettings=a,this.setSliderWidth(),this.setItemCss(b),this.setSliderHeight(b),this.checkArrowStates(b),this.showMoreItems(b),this.settings.currentIndex=0,this.settings.currentLeft=0,this.transformCss()},setSliderWidth:function(){this.settings.sliderWidth=Math.floor(this.typeSettings.itemWidth*this.settings.totalItems),this.$row.css("width",this.settings.sliderWidth)},setItemCss:function(b){var c=this.typeSettings.itemsToShow,d=this.globalSettings.gutterWidth,e=(c-1)*d,f=a(this.$el).width(),g=Math.round((f-e)/c),h=this,i=g>0?g:this.typeSettings.itemWidth,j=this.typeSettings.itemHeight,k=i+.5*d,l=0;this.typeSettings.itemWidth=this.typeSettings.itemWidth||i,this.$itemWidth=i;var m=Math.floor((this.$itemWidth+e)*this.settings.totalItems);this.$row.css("width",m),this.settings.slideLocations=[],b>=760?_.forEach(this.$items,function(b,c){a(b).css({position:"absolute",top:0,left:l,width:k,height:j,paddingRight:.5*d}),h.settings.slideLocations.push(l),l=l+i+d}):this.$items.css({position:"relative",left:"auto",height:"auto",width:"100%",paddingRight:0}),this.setInnerItemCss(b),this.setArrowPos()},setSliderHeight:function(a){var b;switch(this.$dataType){case"megaSlider":b=1.02*this.$itemWidth;break;case"megaSliderSingle":case"megaSliderIn8":case"megaSliderIn4":case"megaSlider3up":var c={titleLines:2,titleLineHeight:20,titleMargins:10,metaLines:.8,metaLineHeight:19.2,metaMargins:0,imageHeight:9*this.$itemWidth/16};b=c.titleLines*c.titleLineHeight+c.titleMargins+c.metaLines*c.metaLineHeight+c.metaMargins+c.imageHeight,b=Math.round(b);break;case"megaSliderPortrait":case"megaSlider3upPortrait":var c={titleLines:2,titleLineHeight:20,
titleMargins:10,metaLines:.8,metaLineHeight:19.2,metaMargins:0,imageHeight:4*this.$itemWidth/3};b=c.titleLines*c.titleLineHeight+c.titleMargins+c.metaLines*c.metaLineHeight+c.metaMargins+c.imageHeight,b=Math.round(b);break;default:b=this.$itemWidth}this.sliderHeight=this.typeSettings.itemHeight,a>=760?this.$wrap.css("height",b):this.$wrap.css("height","auto")},setInnerItemCss:function(b){var c=this.typeSettings.oneItemProp,d=this.typeSettings.threeItemProp,e=this.typeSettings.fourItemProp;if(c){var f=this.$items.filter(".megaslider__item--featured").find(".tg-teaser-item");b>=760?f.find(".item__title").css({maxHeight:c.titleHeight}):f.find(".item__title").css({maxHeight:"none"}),f.find(".desc").css({height:"auto"})}if(d){var g=this.$items.filter(".megaslider__item--3").find(".tg-list-item");b>=760?(g.css({marginBottom:d.marginBottom,paddingBottom:d.paddingBottom}),g.filter(":last-child").css({marginBottom:0,paddingBottom:0}),g.children("a").css({height:d.imageHeight,width:d.imageWidth}),g.children(".item__info").css({marginLeft:d.itemInfoMargin})):g.css({marginBottom:24,paddingBottom:0})}if(e){var h=this.$items.filter(".megaslider__item--4").find(".tg-teaser-item");b>=760?(h.css({float:"left",width:e.itemWidth,height:"48%",marginTop:0,marginBottom:0,position:"relative"}),h.filter(function(b){return 0===a(this).index()||1===a(this).index()}).css({marginTop:0,height:"49%",marginBottom:"3%",overflow:"initial"}),h.filter(":odd").css("float","right")):h.css({float:"left",width:"100%",height:"auto",marginTop:0,marginBottom:24})}},setArrowPos:function(){var a={position:"absolute",display:"block",top:"0",bottom:"0",height:"100%",margin:"auto"};this.$prevArrow.css(a),this.$nextArrow.css(a)},changeSlideOnClick:function(a){var b,c=this.settings.currentIndex,d=this.typeSettings.itemsToSlide,e=this.settings.totalItems,f=e-1;"prev"==a.data.message?(b=c-d)<0&&(b=0):(b=c+d)+d>f&&(b=e-d),this.settings.currentIndex=b,this.setSlide()},setSlide:function(){var a,b=this.settings.currentIndex;a=this.settings.slideLocations[b],this.settings.currentLeft=a,this.transformCss()},panHandler:function(a){var b=this,c=a.deltaX-this.settings.oldEvent.deltaX;this.settings.currentLeft=this.settings.currentLeft-c,this.transformCss(),b.settings.oldEvent=a},panendHandler:function(a){var b=a.deltaX,c=b<0?1:-1,d=this.settings.currentLeft,e=this.typeSettings.itemsToSlide,f=this.settings.totalItems,g=this.getClosestItem(d),h=this.settings.slideLocations.indexOf(g),i=h;1===c?(g<d&&this.$nextArrow.trigger("click"),i>=f-1-e&&(i=f-e)):(g>d&&this.$prevArrow.trigger("click"),i<0&&(i=0))},showMoreItems:function(a){var b=this,c=this.$el.find(".tg-teaser-item, .tg-list-item, .tg-teaser-item--portrait, .tg-list-item--portrait");c.length<=3&&this.$el.find(".tg-load-more").hide(),a<760?(c.slice(3).hide(),this.$loadMore.show()):(c.show(),this.$loadMore.hide()),b.settings.hasAllShownOnMobile&&(c.show(),this.$loadMore.remove())},changeToClosest:function(){var a=this.settings.currentLeft,b=this.typeSettings.itemsToSlide,c=this.settings.totalItems,d=this.getClosestItem(a),e=this.settings.slideLocations.indexOf(d);e<0?e=0:e>=c-1-b&&(e=c-b),this.settings.currentLeft=this.settings.slideLocations[e],this.settings.currentIndex=e,this.transformCss()},transformCss:function(){var a,b=this.settings.currentLeft,c=this.globalSettings.prefixes.js;this.globalSettings.hasCssTransitions?(a=this.globalSettings.hasCss3dTransforms?"translate3d("+-b+"px, 0,0)":"translate("+-b+"px, 0)",this.setCss(this.$row[0],"transform",a,c)):this.$row.animate({left:-b},500)},setCss:function(a,b,c,d){var e,f;e=d+b.charAt(0).toUpperCase()+b.slice(1),f=b.charAt(0).toLowerCase()+b.slice(1),a.style[e]=c,a.style[f]=c},getClosestItem:function(a){var b=this.settings.slideLocations,c=_.map(b,function(b){return[b,Math.abs(b-a)]});return _.reduce(c,function(a,b){return a[1]<b[1]?a:b},[-1,999])[0]},resetSliderToStart:function(){this.settings.currentIndex=0,this.setSlide()},checkArrowStates:function(a){a<760?(this.$prevArrow.hide(),this.$nextArrow.hide()):(this.$prevArrow.show(),this.$nextArrow.show(),0===this.settings.currentIndex?this.$prevArrow.hide():this.settings.currentIndex===this.settings.totalItems-this.typeSettings.itemsToSlide&&this.$nextArrow.hide()),this.settings.totalItems<=this.typeSettings.itemsToShow&&(this.$prevArrow.hide(),this.$nextArrow.hide())},toggleShowImage:function(a){var b=(this.$el,this.settings.currentIndex),c=b+this.typeSettings.itemsToShow,d=this.$items.slice(b,c+1);toggle.functions.showImage(d)}},a.fn.sliders=function(a){allSliders=new b(this,a)},a.fn.updateSliders=function(){var b=a(window).width();allSliders.calculateSliderProperties(b),allSliders.updateSliderSettings(b)},a.fn.initNewSlider=function(){var b,d=allSliders,e=a(this),f=d.totalSliders,g=a(window).width();if(this.slider)return!1;switch(!0){case e.hasClass("megaslider__single"):b="megaSliderSingle";break;case e.hasClass("megaslider__portrait"):b="megaSliderPortrait";break;case e.hasClass("megaslider__8"):b="megaSliderIn8";break;case e.hasClass("megaslider__4"):b="megaSliderIn4";break;case e.hasClass("megaslider__8--3up"):b="megaSlider3up";break;case e.hasClass("megaslider__8--4up-portrait"):b="megaSlider4upPortrait";break;default:b="megaSlider"}d.totalSliders=f+1,d.typeSettings[b]&&(this.slider=new c(this,f,b,d.globalSettings)),d.typeSettings[b]||(d.typeSettings[b]={},d.typeSettings[b].$els=e,d.typeSettings[b].config=d.sliderConfig[b],d.typeSettings[b].refArray=[],this.sliders(phoenixVars.megaSliderConfigurations)),d.typeSettings[b].refArray.push({el:this,ref:f}),this.slider.updateSettings(d.typeSettings[b],g)}}),jQuery(document).ready(function(a){a(".megaslider").sliders(phoenixVars.megaSliderConfigurations)}),jQuery(document).ready(function(a){function b(a,b,c){var d=c.closest(".tg-content-grid").attr("data-content-grid-type");if(c.find(".l-gi").show(),"2"==d)switch(!0){case a>760:break;default:c.find(".l-gi").slice(-b).hide()}if("3"==d)switch(!0){case a>1140:c.find(".tg-list-no-border").removeClass("tg-list-no-border");break;case a>760:c.find(".l-gi").slice(-b).hide(),c.find(".l-gi").not(":hidden").slice(-2).addClass("tg-list-no-border");break;default:c.find(".l-gi").slice(2*-b).hide(),c.find(".tg-list-no-border").removeClass("tg-list-no-border")}a<=760&&c.siblings(".tg-load-more").show()}var c=a(".tg-content-grid").find(".l-content-grid");_.forEach(c,function(c){var d=a(c).closest(".tg-content-grid").attr("data-rows-on-desktop"),e=a(window).width();d&&(b(e,d,a(c)),a(window).resize(function(e){var f=a(window).width();f>760?b(f,d,a(c)):a(".tg-content-grid").find(".tg-list-no-border").removeClass("tg-list-no-border")}),a(c).closest(".tg-content-grid").on("click",".tg-load-more",function(b){b.preventDefault(),a(c).find(".l-gi").show(),a(c).find("[data-dotdot]").truncateToHeight(),a(this).hide()}))})}),jQuery(document).ready(function(a){var b,b,c=a(".l-4up--video").find(".megaslider, .megaslider__single, .megaslider__portrait, .megaslider__8, .megaslider__4, .megaslider__8--3up, .megaslider__8--4up-portrait");a(".video__toggler").on("click",function(d){d.preventDefault();var e=a(this).closest(".video__player"),f=e.parent().children().eq(2);e.hasClass("is-enlarged")?e.removeClass("is-enlarged"):e.addClass("is-enlarged"),f.toggleClass("is-enlarged"),videoListSliderSwap(),c.hasClass("has-loaded")&&(b=!0),c.length&&(b?c.updateSliders():(c.initNewSlider(),b=!0),c.find("[data-dotdot]").truncateToHeight())})}),jQuery(document).ready(function(a){a("body").click(function(a){closeOffCanvasMenu(),closePrimaryNavDropdown()})}),jQuery(document).ready(function(a){var b=a(".mentioned"),c=b.children(".mentioned__item"),d=b.find(".show-more"),e=c.length;e&&(c.not(":eq(0)").hide(),d.find("span").text(e-1+" more mentions"),d.on("click",function(b){b.preventDefault();var d=a(this),f=d.find("span");d.find("i").toggleClass("arrow-down arrow-up"),d.hasClass("shown")?(d.removeClass("shown"),c.not(":eq(0)").slideUp("300"),f.text(e-1+" more mentions")):(d.addClass("shown"),c.slideDown("300","swing"),f.text("View less"))}))}),jQuery(document).ready(function(a){var b=a(".expander");b.length&&b.expander({slicePoint:1e3,widow:0,expandText:'<i class="ti-more"></i><span>More Details</span>',expandPrefix:"&hellip;",userCollapseText:'<i class="ti-less"></i><span>View Less</span>',moreClass:"more-details",lessClass:"less-details",expandEffect:"slideDown",collapseEffect:"slideUp"})}),jQuery(document).ready(function(a){a(".nav--footer").on("click",".l-gi",function(b){"has-children"===a(this).attr("data-attr")&&(b.preventDefault(),a(this).find("ul").slideToggle(400))})}),jQuery(document).ready(function(a){"use strict";a(".comments.collapsible").each(function(b,c){a(c).on("click",".collapsible__toggle",function(a){!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_GB/sdk.js#xfbml=1&appId=366231207746&version=v2.0",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")})})}),jQuery(document).ready(function(a){"use strict";function b(){a(".live-notification .notification-bar__contents").slick({dots:!1,appendArrows:a(".live-notification .notification-bar__controls"),prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',slidesToShow:1,autoplay:!0,autoplaySpeed:5e3}),a(".live-notification").show()}setTimeout(b,5e3)}),$(".notification-bar__close").click(function(a){notificationBarCloseOnClick($(this),a)}),jQuery(document).ready(function(a){a(".filter-btn").on("click",function(a){a.preventDefault(),a.stopPropagation(),toggleFilterMenu()}),a("#filterstartDate").pickadate(),a("#filterendDate").pickadate(),a(".filter-menu #cancel").click(function(a){a.preventDefault(),a.stopPropagation(),toggleFilterMenu()})}),jQuery(document).ready(function(a){function b(){var b=this.$tab.filter(".is-shown"),c=b.eq(0).attr("data-daymonthyear"),d=b.last().attr("data-daymonthyear");a(".epg__visible-start-date").html(c),a(".epg__visible-end-date").html(d)}var c=a(".tgtabs--epg"),d=7*Math.floor(a(".is-today").index()/7);c.length&&(a(".tgtabs--epg").tgtabs({tabsPerPage:7,tabsToSlide:7,prevArrowContents:'<i class="ti-arrow-back"></i><span>Prev Week</span>',nextArrowContents:'<span>Next Week </span><i class="ti-arrow-next"></i>',arrowsAlwaysShown:!0,animateInit:!1,startingTab:d,onAfterArrowChange:b}),0==d&&a(".tgtabs__prev").hide(),21==d&&a(".tgtabs__next").hide()),jQuery(document).ready(function(a){var b=a(".epg--channel, .epg").find(".tgtab__target.is-today, .tgtab__target.is-active").find(".epg--channel__item.on-now, .epg--channel__item.is-active");if(b.length){var c=a(".nav--quicklinks").height()||0,d=a(".epg__sticky-header").height()||0,e=b.offset().top-c-d;a(window).scrollTop(e)}})}),jQuery(document).ready(function(a){function b(){a(window).width()>1140?a(".epg__list").addClass("truncated"):a(".epg__list").removeClass("truncated")}var c=a(".epg__now"),d=a(".epg__next"),e=a(".epg__now-header"),f=a(".epg__next-header");e.addClass("is-active"),c.addClass("is-active"),b(),a(window).resize(function(a){b()}),e.on("click",function(b){b.preventDefault(),a(window).width()<1140&&(f.removeClass("is-active"),e.addClass("is-active"),d.removeClass("is-active"),c.addClass("is-active")),c.find("[data-dotdot]").truncateToHeight()}),f.on("click",function(b){b.preventDefault(),a(window).width()<1140&&(e.removeClass("is-active"),f.addClass("is-active"),c.removeClass("is-active"),d.addClass("is-active")),d.find("[data-dotdot]").truncateToHeight()})}),jQuery(document).ready(function(a){var b=a(".epg__sticky-header"),c=a(".tgtabs--epg").find(".tgtabs__arrows");b.length&&(c.children().wrapAll('<div class="wrap"></div>'),phoenixVars.epgNavTop=b.offset().top,imagesLoaded(a(window),function(){phoenixVars.epgNavTop=b.offset().top}),a(window).scrollTop()>0&&(b.hasClass("is-fixed")||(b.css({position:"fixed",top:40}),b.addClass("is-fixed"))),a(window).scroll(function(){a(window).scrollTop()>0?b.hasClass("is-fixed")||(b.css({position:"fixed",top:40}),b.addClass("is-fixed")):(b.css({position:"absolute",top:0}),b.removeClass("is-fixed"),c.removeClass("wrap"))}))}),jQuery(document).ready(function(a){a(".epg-page").length&&($quickLinks=a(".nav--quicklinks"),phoenixVars.epgQuickLinksTop=$quickLinks.offset().top,$quickLinks.css({position:"absolute",top:"auto",left:0,right:0,zIndex:50}),a(window).scrollTop()>0&&($quickLinks.hasClass("is-fixed")||($quickLinks.css({position:"fixed",top:0}),$quickLinks.addClass("is-fixed"))),a(window).scroll(function(){a(window).scrollTop()>0?$quickLinks.hasClass("is-fixed")||($quickLinks.css({position:"fixed",top:0}),$quickLinks.addClass("is-fixed")):($quickLinks.css({position:"absolute",top:"auto"}),$quickLinks.removeClass("is-fixed"))}))}),jQuery(document).ready(function(a){a(".modal-rating").find(".star").on("mouseover",function(b){a(this).prevAll().addClass("filled"),a(this).addClass("filled"),a(this).nextAll().removeClass("filled")}),a(".modal-rating").find(".star").on("click",function(b){b.preventDefault(),console.log("rating "+(a(this).index()+1)+"clicked"),a(this).closest(".modal-rating").find(".feedback").css("visibility","visible"),a(this).parent().children().off("mouseover click"),setTimeout(function(){a.featherlight.current().close()},3e3)})}),jQuery(document).ready(function(a){a("[data-dotdot]").truncateToHeight(),a(window).resize(a.debounce(150,!1,function(b){a("[data-dotdot]").truncateToHeight(!0)}))}),jQuery(document).ready(function(a){a(".remind-me").on("click",function(b){b.preventDefault(),b.stopPropagation(),a(".reminder-popup").removeClass("is-shown");var c=a(this).find(".reminder-popup");c.hasClass("is-shown")?c.removeClass("is-shown"):c.addClass("is-shown")}),a("html").on("click",function(b){a(".reminder-popup").removeClass("is-shown")}),a(window).resize(function(b){a(".reminder-popup").removeClass("is-shown")}),a(".reminder-popup").on("click","a",function(b){b.preventDefault(),b.stopPropagation(),a(this).find(".i-search-close").length&&a(".reminder-popup").removeClass("is-shown")})}),jQuery(document).ready(function(a){var b=a("#scroll-top-button"),c=a("#scroll-top-button-all");b.length&&(b.click(function(){a("html, body").animate({scrollTop:0},"300","swing")}),a(document).scroll(function(){a(this).scrollTop()>700?b.stop().fadeIn(200):b.stop().fadeOut(200)})),c.length&&a(window).width()>760&&(a(document).scroll(function(){a(this).scrollTop()>700?c.stop().fadeIn(200):c.stop().fadeOut(200)}),c.click(function(){a("html, body").animate({scrollTop:0},"300","swing")}),a(document).scroll(function(){a(this).scrollTop()>700?c.stop().fadeIn(200):c.stop().fadeOut(200)}))}),jQuery(document).ready(function(a){function b(){a(window).width()>760?0==d.length&&c():d.length&&(a.each(d,function(a){this.destroy()}),d=[])}function c(){var b=a(".fixed-height").not(".fixed-height--episode"),c=a(".fixed-height--episode"),e=b.find(".fixed-height__list"),f=c.find(".fixed-height__list");if(e.length&&a(window).width()>760&&(e.jScrollPane({autoReinitialise:!0}),e.each(function(){d.push(a(this).data().jsp)})),f.length&&a(window).width()>760){var g=f.jScrollPane({autoReinitialise:!0});f.each(function(){d.push(a(this).data().jsp)});var h=g.data("jsp"),i=a("li.now-playing").length?a("li.now-playing").position().top:0;h.scrollToY(i)}}var d=[];a(".fixed-height--episode");c(),a(window).resize(function(){b()})}),jQuery(document).ready(function(a){function b(){a(this.data.elem).find(".dk-select-options").jScrollPane()}function c(c){$lightboxDropdowns=this.$content.find(".dk-dropdown--lightbox"),$lightboxDropdowns.each(function(c,e){a(e).on("click",function(a){a.preventDefault()}),d||a(e).dropkick({open:b})})}var d=isIE(8,"lte"),e=a(".dk-dropdown").not(".dk-dropdown--lightbox");d||e.dropkick({open:b}),a("[data-custom-featherlight]").each(function(b,d){var e=a(d),f=e.attr("data-custom-featherlight");e.featherlight(f,{afterContent:c})})}),jQuery(document).ready(function(a){var b=a(".nav-quicklinks-holder");if(b.length>0){var c=b.find(".collapsible__body");(new winprops).screen>1140&&offsetRight(c,b),a(window).resize(a.debounce(150,function(a){(new winprops).screen>1140&&offsetRight(c,b)}))}}),jQuery(document).ready(function(a){if(a(".customtable").length){var b=new Date;b.setHours(0,0,0,0);var c=!1;a(".customtable").each(function(d){var e=a(this),f=0,g=a(this).find(".tab_content").length,h=a(this).find(".tabs"),i="";a(this).find(".tab_content").each(function(d){var j=!0;a(this).find(".customtable__subtitle").each(function(){var c=Date._parse(a(this).text());if(0==isNaN(c)){if(new Date(c)>=b)return j=!0,!1;(j=!1)||f||g-1!=d||(j=!0)}}),j&&!f?(a(this).fadeIn(),f=d+1,e.find('li[rel*="tab'+f+'"]').addClass("active"),i=" d_active",c=this.offsetTop):i="",h.length&&a(this).before("<h3 class= 'tab_drawer_heading"+i+"' rel='tab"+(d+1)+"'>"+a(e).find('[rel="tab'+(d+1)+'"]').text()+"</h3>")});var j=a(this).find(".tabs");j.length&&(j.on("init reInit afterChange",function(b,c,d,e){c.slideCount>c.options.slidesToShow&&(new winprops).screen>760?a("ul.tabs").css("width","95%"):a("ul.tabs").css("width","100%")}),j.slick({initialSlide:f-1,infinite:!1,slidesToShow:7,slidesToScroll:7}))}),c&&(new winprops).isMobile&&(a("html, body").animate({scrollTop:c},600),console.log(c)),a(".tab_container").click(function(b){if("tab_drawer_heading"==b.target.className){a(this).find(".tab_content:visible").hide();var c=a(b.target).attr("rel");a(this).find("#"+c).fadeIn(),a("."+b.target.className).removeClass("d_active"),a(b.target).addClass("d_active"),a(this).prev().find("li").removeClass("active"),a(this).prev().find("li[rel*='"+c+"']").addClass("active")}}),a(".tabs").click(function(b){if("li"==b.target.localName){var c=a(this).next();c.find(".tab_content:visible").hide();var d=a(b.target).attr("rel");c.find("#"+d).fadeIn(),a(this).find("li").removeClass("active"),a(b.target).addClass("active"),c.find(".tab_drawer_heading").removeClass("d_active"),c.find(".tab_drawer_heading[rel='"+d+"']").addClass("d_active")}}),a(".fixture-clickable-row").each(function(){var b=a(this).find("td"),c=a(this).data("href");b.wrapInner('<a href="'+c+'" target="_blank"></a>')})}}),$(function(){ssoFormControl()});var mc=window.mc||{};mc.utils={wrapper:null,errorsInValidateField:[],validateField:function(a,b,c){void 0==c?window.event.preventDefault():c.preventDefault();var d="object"==typeof a?a:document.querySelector(a);if(this.wrapper=d,"FORM"==d.nodeName||"FORM"==d.tagName)var e=Array.prototype.slice.call(d.querySelectorAll("input, select")),f=e.filter(function(a){if(a.className.match("validate"))return!0});else if("INPUT"==d.nodeName||"INPUT"==d.tagName||"SELECT"==d.nodeName||"SELECT"==d.tagName){var f=[];f.push(d)}else{var f=[];console.log("NOT a FORM or INPUT")}this.errorsInValidateField=[];for(var g=0;g<f.length;g++){var h=f[g].parentElement,i=h.getElementsByClassName("error");if(void 0!==i[0]){var j=JSON.parse(i[0].getAttribute("data-errors")),k=f[g].value,l=f[g].className;switch(!0){case/not-mandatory/.test(l)&&""==k:i[0].innerHTML="";break;case!/not-mandatory/.test(l)&&""==k:/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.empty||"Required Field",this.errorsInValidateField.push(h);break;case/validateText/.test(l)&&!/^[a-zA-Z ]*$/.test(k):case/validateEmail/.test(l)&&!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(k):case/validateTel/.test(l)&&!/^[0-9]{8}$/.test(k):/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Field",this.errorsInValidateField.push(h);break;case/validateCheckbox/.test(l)&&!f[g].checked:/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.empty||"Required Field",this.errorsInValidateField.push(h);break;case/validateDate/.test(l)&&!/^(((((0[1-9])|(1\d)|(2[0-8]))\/((0[1-9])|(1[0-2])))|((31\/((0[13578])|(1[02])))|((29|30)\/((0[1,3-9])|(1[0-2])))))\/((20[0-9][0-9])|(19[0-9][0-9])))|((29\/02\/(19|20)(([02468][048])|([13579][26]))))$/.test(k):case/validateNRIC/.test(l)&&!this.isValidNRIC(k):/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Field",this.errorsInValidateField.push(h);break;case/validateImage/.test(l)&&f[g].files[0]&&f[g].files[0].size/1024>300:/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Image",this.errorsInValidateField.push(h);break;case("password"==f[g].name||"newpassword"==f[g].name)&&k.length<6:/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Field",this.errorsInValidateField.push(h),k;break;case("password"==f[g].name||"newpassword"==f[g].name)&&/ /.test(k):/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.notAllowed||"Not allowed characters",this.errorsInValidateField.push(h),k;break;case"confirmpassword"==f[g].name&&(void 0!==f[g].form.newpassword&&k!=f[g].form.newpassword.value||void 0!==f[g].form.password&&k!=f[g].form.password.value):/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Field",this.errorsInValidateField.push(h);break;case/validateDate/.test(l)&&/^(((((0[1-9])|(1\d)|(2[0-8]))\/((0[1-9])|(1[0-2])))|((31\/((0[13578])|(1[02])))|((29|30)\/((0[1,3-9])|(1[0-2])))))\/((20[0-9][0-9])|(19[0-9][0-9])))|((29\/02\/(19|20)(([02468][048])|([13579][26]))))$/.test(k):var m=new Date,n=k.split("/");if(new Date(n[2],n[1],n[0])>m){/invalid/.test(f[g].className)||(f[g].className+=" invalid"),i[0].innerHTML=j.invalid||"Invalid Field",this.errorsInValidateField.push(h);break}case("password"==f[g].name||"newpassword"==f[g].name)&&k.length>=6:k;default:i[0].innerHTML="",/invalid/.test(f[g].className)&&(f[g].className=f[g].className.replace(" invalid","").trim())}}}this.errorsInValidateField.length&&"blur"!=c.type&&this.scrollToElement(this.errorsInValidateField[0]),void 0!==b&&0==this.errorsInValidateField.length&&b(d)},validatePostal:function(a,b){var c=this,d=a.toString();!isNaN(d)&&d.length<6?(this.postalErrors="e1",this.renderPostalError(b,"valid")):$.get("/en/blueprint/servlet/toggle/postalCode",{value:a},"json").done(function(a){void 0!==b&&c.renderPostal(a,b)})},renderPostalError:function(a,b){var c=a.postalcode.parentElement,d=c.getElementsByClassName("error"),e=JSON.parse(d[0].getAttribute("data-errors"));return d[0].innerHTML="clean"==b?"":e[b]},postalErrors:null,lastValidPostal:null,renderPostal:function(a,b){if(a.size){var c=b;this.renderPostalError(c,"clean"),null!=a.buildingNumber&&(c.block.value=a.buildingNumber,/notEmpty/.test(c.block.classList)||(c.block.classList+=" notEmpty")),null!=a.streetName&&(c.street.value=a.streetName,/notEmpty/.test(c.street.classList)||(c.street.classList+=" notEmpty")),null!=a.buildingName&&(c.building.value=a.buildingName,/notEmpty/.test(c.building.classList)||(c.building.classList+=" notEmpty")),this.lastValidPostal=c.postalcode.value}else null!=this.lastValidPostal&&(b.postalcode.value=this.lastValidPostal),this.renderPostalError(b,"notFound")},isValidNRIC:function(a){if(a){a=a.toUpperCase();var b=[];if(b.multiples=[2,7,6,5,4,3,2],9!=a.length)return!1;var c,d=0,e=0,f=a.charAt(0),g=a.charAt(a.length-1);if("S"!=f&&"T"!=f)return!1;if(c=a.substr(1,a.length-2),isNaN(c))return!1;if(null!=c)for(;0!=c;)d+=c%10*b.multiples[b.multiples.length-(1+e++)],c/=10,c=Math.floor(c);var h;return"S"==f&&(h=["J","Z","I","H","G","F","E","D","C","B","A"]),("T"==f&&(h=["G","F","E","D","C","B","A","J","Z","I","H"]),g!=h[d%11])?!1:(b.isNricValid=function(a){if(!a||""==a)return!1},!0)}return!1},scrollToElement:function(a){if(void 0!==a){var b=$(".nav--local"),c=$(a).offset().top-(b.length?b.height()+10:10);$("html, body").animate({scrollTop:c},400)}else console.log("You forgot to pass element as parameter")},dobFormat:function(a,b){var c=b.value,d=a.keyCode||a.charCode;return 8!=d&&46!=d&&(/[0-9]/.test(c.slice(-1))?(2!=c.length&&5!=c.length||(b.value=c+"/"),void(3!=c.length&&6!=c.length||(b.value=c.slice(0,-1)+"/"+c.slice(-1)))):("/"!=c.slice(-1)||3!=c.length&&6!=c.length)&&(b.value=c.slice(0,-1),!1))}};var objPersonalization=[{nameOfNode:"declanguage",elementToMap:".personalization-lang-btn",section:null},{nameOfNode:"decgenre",elementToMap:".personalization-genres-btn",section:null}];jQuery(document).ready(function(a){function b(){var b=a(c).find(".jspPane"),d=b.length?b:a(".flexStateList-list-content"),e=d.outerHeight(),f=a(".flexStateList-foot:visible").outerHeight()||0,g=a(".flexStateList-list-wrap").outerHeight()-(f+10);if(e>g)a(".flexStateList-list-content").height(g),a(".flexStateList-list-content").jScrollPane().css("visibility","visible");else{if(b.length){a(".jspPane").html();a(".jspScrollable, .jspContainer, .jspPane").removeAttr("style"),a(".jspVerticalBar").hide()}a(".flexStateList-list-content").css("visibility","visible")}}var c=document.querySelector("#flexStateList")||0;0!=c&&(b(),a(window).resize(a.debounce(150,function(c){a(".flexStateList-list-content"),b()})))});